<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[This is One of the Solutions]]></title>
  <link href="http://blog.prabeeshk.com/atom.xml" rel="self"/>
  <link href="http://blog.prabeeshk.com/"/>
  <updated>2015-04-06T23:00:22+05:30</updated>
  <id>http://blog.prabeeshk.com/</id>
  <author>
    <name><![CDATA[Prabeesh K]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Install Apache Spark on Ubuntu-14.04]]></title>
    <link href="http://blog.prabeeshk.com/blog/2014/10/31/install-apache-spark-on-ubuntu-14-dot-04/"/>
    <updated>2014-10-31T13:58:31+05:30</updated>
    <id>http://blog.prabeeshk.com/blog/2014/10/31/install-apache-spark-on-ubuntu-14-dot-04</id>
    <content type="html"><![CDATA[<p>On of the <a href="http://blog.prabeeshk.com/blog/2013/11/26/installing-apache-spark-on-ubuntu-1204/">previous post</a> mentioning about install Spark-0.8.0 in Ubuntu-12.04. In this post  explain about detailed steps to set up Spark-1.1.0 in  Ubuntu machine. For running Spark in Ubuntu machine should install Java.  Using following commands  easily install Java in Ubuntu machine.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ sudo apt-add-repository ppa:webupd8team/java
</span><span class='line'>$ sudo apt-get update
</span><span class='line'>$ sudo apt-get install oracle-java7-installer</span></code></pre></td></tr></table></div></figure>


<p> To check the Java installation is successful</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ java -version</span></code></pre></td></tr></table></div></figure>


<p>It shows installed java version</p>

<p><code>
java version "1.7.0_72"_
Java(TM) SE Runtime Environment (build 1.7.0_72-b14)_
Java HotSpot(TM) 64-Bit Server VM (build 24.72-b04, mixed mode)
</code></p>

<p>In next step is install Scala, follow the following
instructions to set up Scala. First download the Scala from <a href="http://www.scala-lang.org/download/2.10.4.html">here</a></p>

<p>Copy downloaded file to some location for example <em>/urs/local/src</em>,
untar the file and set path variable,</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ wget http://www.scala-lang.org/files/archive/scala-2.10.4.tgz
</span><span class='line'>$ sudo mkdir /usr/local/src/scala
</span><span class='line'>$ sudo tar xvf scala-2.10.4.tgz -C /usr/local/src/scala/</span></code></pre></td></tr></table></div></figure>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ vi .bashrc</span></code></pre></td></tr></table></div></figure>


<p>And add following in the end of the file</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>export SCALA_HOME=/usr/local/src/scala/scala-2.10.4
</span><span class='line'>export PATH=$SCALA_HOME/bin:$PATH</span></code></pre></td></tr></table></div></figure>


<p>restart bashrc</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ . .bashrc</span></code></pre></td></tr></table></div></figure>


<p>To check the Scala is installed successfully</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ scala -version</span></code></pre></td></tr></table></div></figure>


<p>It shows installed Scala version
<code>
Scala code runner version 2.10.4 -- Copyright 2002-2013, LAMP/EPFL
</code></p>

<p>Or just type scala. It goes to scala interactive shell</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ scala
</span><span class='line'>scala&gt;</span></code></pre></td></tr></table></div></figure>


<p>Finally download spark ditributaion from <a href="http://d3kbcqa49mib13.cloudfront.net/spark-1.1.0.tgz">here</a></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ wget http://d3kbcqa49mib13.cloudfront.net/spark-1.1.0.tgz
</span><span class='line'>$ tar xvf spark-1.1.0.tgz </span></code></pre></td></tr></table></div></figure>


<h3>Building</h3>

<p>SBT(Simple Build Tool) is used for building Spark, which is bundled with it. To compile the code</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ cd spark-1.1.0
</span><span class='line'>
</span><span class='line'>$ sbt/sbt assembly</span></code></pre></td></tr></table></div></figure>


<p>Building take some time. After successfully packing you can test a sample program</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ ./bin/run-example SparkPi 10</span></code></pre></td></tr></table></div></figure>


<p>Then you get the output as Pi is roughly 3.14634. Spark is ready to fire</p>

<p>For more detail <a href="http://spark.apache.org/docs/1.1.1/">visit</a></p>

<h3>Spark Interactive Shell</h3>

<p>You can run Spark interactively through the Scala shell</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ ./spark-shell</span></code></pre></td></tr></table></div></figure>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='scala'><span class='line'><span class="n">scala</span><span class="o">&gt;</span> <span class="k">val</span> <span class="n">textFile</span> <span class="k">=</span> <span class="n">sc</span><span class="o">.</span><span class="n">textFile</span><span class="o">(</span><span class="s">&quot;README.md&quot;</span><span class="o">)</span>
</span><span class='line'><span class="n">scala</span><span class="o">&gt;</span> <span class="n">textFile</span><span class="o">.</span><span class="n">count</span><span class="o">()</span>
</span></code></pre></td></tr></table></div></figure>


<p>If want to check some particular sections of spark using shell. For example run MQTT interactevely, the mqtt is defined under external for import that into <em>spark-shell</em> just follow the instructions</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='scala'><span class='line'><span class="n">$</span> <span class="n">sbt</span><span class="o">/</span><span class="n">sbt</span> <span class="s">&quot;streaming-mqtt/package&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Then add this package into the classpath</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='scala'><span class='line'><span class="n">$</span> <span class="n">bin</span><span class="o">/</span><span class="n">spark</span><span class="o">-</span><span class="n">shell</span> <span class="o">--</span><span class="n">driver</span><span class="o">-</span><span class="n">class</span><span class="o">-</span><span class="n">path</span>
</span><span class='line'><span class="n">external</span><span class="o">/</span><span class="n">mqtt</span><span class="o">/</span><span class="n">target</span><span class="o">/</span><span class="n">scala</span><span class="o">-</span><span class="mf">2.10</span><span class="o">/</span><span class="n">spark</span><span class="o">-</span><span class="n">streaming</span><span class="o">-</span><span class="n">mqtt_2</span><span class="o">.</span><span class="mi">10</span><span class="o">-</span><span class="mf">1.1</span><span class="o">.</span><span class="mf">0.</span><span class="n">jar</span>
</span><span class='line'><span class="n">scala</span> <span class="o">&gt;</span> <span class="k">import</span> <span class="nn">org.apache.spark.streaming.mqtt._</span>
</span></code></pre></td></tr></table></div></figure>


<p>Using this you can check your code line by line.</p>

<h3>Accessing Hadoop Filesystems</h3>

<p>If you have already the build source package, rebuild it against the hadoop version as follows</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='scala'><span class='line'><span class="n">$</span> <span class="n">sbt</span><span class="o">/</span><span class="n">sbt</span> <span class="n">clean</span>
</span></code></pre></td></tr></table></div></figure>


<p>You can change this by setting the SPARK_HADOOP_VERSION variable. Here uses Hadoop 2.0.0-cdh4.3.0</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='scala'><span class='line'><span class="n">$</span> <span class="nc">SPARK_HADOOP_VERSION</span><span class="k">=</span><span class="mf">2.0</span><span class="o">.</span><span class="mi">0</span><span class="o">-</span><span class="n">mr1</span><span class="o">-</span><span class="n">cdh4</span><span class="o">.</span><span class="mf">3.0</span> <span class="n">sbt</span><span class="o">/</span><span class="n">sbt</span> <span class="n">assembly</span>
</span></code></pre></td></tr></table></div></figure>


<p>After successfully build. You can read  and write data into cdh4.3.0 clusters.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='scala'><span class='line'><span class="n">$</span> <span class="o">.</span><span class="n">bin</span><span class="o">/</span><span class="n">spark</span><span class="o">-</span><span class="n">shell</span>
</span></code></pre></td></tr></table></div></figure>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='scala'><span class='line'><span class="n">scala</span><span class="o">&gt;</span> <span class="k">var</span> <span class="n">file</span> <span class="k">=</span> <span class="n">sc</span><span class="o">.</span><span class="n">textFile</span><span class="o">(</span><span class="s">&quot;hdfs://IP:8020/path/to/textfile.txt&quot;</span><span class="o">)</span>
</span><span class='line'><span class="n">scala</span><span class="o">&gt;</span>  <span class="n">file</span><span class="o">.</span><span class="n">flatMap</span><span class="o">(</span><span class="n">line</span> <span class="k">=&gt;</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="o">(</span><span class="s">&quot;,&quot;</span><span class="o">)).</span><span class="n">map</span><span class="o">(</span><span class="n">word</span> <span class="k">=&gt;</span> <span class="o">(</span><span class="n">word</span><span class="o">,</span> <span class="mi">1</span><span class="o">)).</span><span class="n">reduceByKey</span><span class="o">(</span><span class="k">_</span><span class="o">+</span><span class="k">_</span><span class="o">)</span>
</span><span class='line'><span class="n">scala</span><span class="o">&gt;</span> <span class="n">count</span><span class="o">.</span><span class="n">saveAsTextFile</span><span class="o">(</span><span class="s">&quot;hdfs://IP:8020/path/to/ouput&quot;</span><span class="o">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>You may find more <a href="http://spark.apache.org/docs/1.1.1/quick-start.html">here</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Creating Assembled JAR for Standalone Spark Application]]></title>
    <link href="http://blog.prabeeshk.com/blog/2014/04/08/creating-uber-jar-for-spark-project-using-sbt-assembly/"/>
    <updated>2014-04-08T09:47:00+05:30</updated>
    <id>http://blog.prabeeshk.com/blog/2014/04/08/creating-uber-jar-for-spark-project-using-sbt-assembly</id>
    <content type="html"><![CDATA[<p>In the <a href="http://blog.prabeeshk.com/blog/2014/04/01/a-standalone-spark-application-in-scala/">previous post</a> shared how to use sbt in Spark-streaming project. This post is about how to create a fat jar for spark streaming project using sbt plugin. sbt-assembly is a sbt plugin to create a fat JAR of sbt project with all of its dependencies.</p>

<p>Add sbt-assembly plugin in <strong><em>project/plugin.sbt</em></strong></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='scala'><span class='line'><span class="n">addSbtPlugin</span><span class="o">(</span><span class="s">&quot;com.eed3si9n&quot;</span> <span class="o">%</span> <span class="s">&quot;sbt-assembly&quot;</span> <span class="o">%</span> <span class="s">&quot;0.9.1&quot;</span><span class="o">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>Specify sbt-assembly.git as a dependency in project/project/build.scala</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='scala'><span class='line'><span class="k">import</span> <span class="nn">sbt._</span>
</span><span class='line'>
</span><span class='line'><span class="k">object</span> <span class="nc">Plugins</span> <span class="k">extends</span> <span class="nc">Build</span> <span class="o">{</span>
</span><span class='line'>  <span class="k">lazy</span> <span class="k">val</span> <span class="n">root</span> <span class="k">=</span> <span class="nc">Project</span><span class="o">(</span><span class="s">&quot;root&quot;</span><span class="o">,</span> <span class="n">file</span><span class="o">(</span><span class="s">&quot;.&quot;</span><span class="o">))</span> <span class="n">dependsOn</span><span class="o">(</span>
</span><span class='line'>    <span class="n">uri</span><span class="o">(</span><span class="s">&quot;git://github.com/sbt/sbt-assembly.git#0.9.1&quot;</span><span class="o">)</span>
</span><span class='line'>  <span class="o">)</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>In build.sbt file add the following contents</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='scala'><span class='line'><span class="k">import</span> <span class="nn">AssemblyKeys._</span> <span class="c1">// put this at the top of the file,leave the next line blank</span>
</span><span class='line'>
</span><span class='line'><span class="n">assemblySettings</span>
</span></code></pre></td></tr></table></div></figure>


<p>Use full keys to configure the assembly plugin. For more details <a href="https://github.com/sbt/sbt-assembly">refer</a></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='scala'><span class='line'><span class="n">target</span>                        <span class="n">assembly</span><span class="o">-</span><span class="n">jar</span><span class="o">-</span><span class="n">name</span>             <span class="n">test</span>
</span><span class='line'><span class="n">assembly</span><span class="o">-</span><span class="n">option</span>               <span class="n">main</span><span class="o">-</span><span class="k">class</span>                    <span class="nc">full</span><span class="o">-</span><span class="n">classpath</span>
</span><span class='line'><span class="n">dependency</span><span class="o">-</span><span class="n">classpath</span>          <span class="n">assembly</span><span class="o">-</span><span class="n">excluded</span><span class="o">-</span><span class="n">files</span>       <span class="n">assembly</span><span class="o">-</span><span class="n">excluded</span><span class="o">-</span><span class="n">jars</span>
</span></code></pre></td></tr></table></div></figure>


<p>If multiple files share the same relative path the default strategy is to verify that all candidates have the same contents and error out otherwise. This behavior can be configured for Spark projects using assembly-merge-strategy as follows.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='scala'><span class='line'><span class="n">mergeStrategy</span> <span class="n">in</span> <span class="n">assembly</span> <span class="o">&lt;&lt;=</span> <span class="o">(</span><span class="n">mergeStrategy</span> <span class="n">in</span> <span class="n">assembly</span><span class="o">)</span> <span class="o">{</span> <span class="o">(</span><span class="n">old</span><span class="o">)</span> <span class="k">=&gt;</span>
</span><span class='line'>  <span class="o">{</span>
</span><span class='line'>    <span class="k">case</span> <span class="nc">PathList</span><span class="o">(</span><span class="s">&quot;javax&quot;</span><span class="o">,</span> <span class="s">&quot;servlet&quot;</span><span class="o">,</span> <span class="n">xs</span> <span class="k">@</span> <span class="k">_</span><span class="o">*)</span> <span class="k">=&gt;</span> <span class="nc">MergeStrategy</span><span class="o">.</span><span class="n">last</span>
</span><span class='line'>    <span class="k">case</span> <span class="nc">PathList</span><span class="o">(</span><span class="s">&quot;org&quot;</span><span class="o">,</span> <span class="s">&quot;apache&quot;</span><span class="o">,</span> <span class="n">xs</span> <span class="k">@</span> <span class="k">_</span><span class="o">*)</span> <span class="k">=&gt;</span> <span class="nc">MergeStrategy</span><span class="o">.</span><span class="n">last</span>
</span><span class='line'>    <span class="k">case</span> <span class="nc">PathList</span><span class="o">(</span><span class="s">&quot;com&quot;</span><span class="o">,</span> <span class="s">&quot;esotericsoftware&quot;</span><span class="o">,</span> <span class="n">xs</span> <span class="k">@</span> <span class="k">_</span><span class="o">*)</span> <span class="k">=&gt;</span> <span class="nc">MergeStrategy</span><span class="o">.</span><span class="n">last</span>
</span><span class='line'>    <span class="k">case</span> <span class="s">&quot;about.html&quot;</span> <span class="k">=&gt;</span> <span class="nc">MergeStrategy</span><span class="o">.</span><span class="n">rename</span>
</span><span class='line'>    <span class="k">case</span> <span class="n">x</span> <span class="k">=&gt;</span> <span class="n">old</span><span class="o">(</span><span class="n">x</span><span class="o">)</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>From the root folder run</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='scala'><span class='line'><span class="n">sbt</span><span class="o">/</span><span class="n">sbt</span> <span class="n">assembly</span>
</span></code></pre></td></tr></table></div></figure>


<p>the assembly plugin then packs the class files and all the dependencies into a single JAR file: target/scala_2.10/TwitterPopularTags-assembly-0.3.0.jar.</p>

<p>You can find an example project from <a href="https://github.com/prabeesh/SparkTwitterAnalysis">here</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[A Standalone Spark Application in Scala]]></title>
    <link href="http://blog.prabeeshk.com/blog/2014/04/01/a-standalone-spark-application-in-scala/"/>
    <updated>2014-04-01T22:56:00+05:30</updated>
    <id>http://blog.prabeeshk.com/blog/2014/04/01/a-standalone-spark-application-in-scala</id>
    <content type="html"><![CDATA[<p>Sharing  some ideas about how to create a Spark-streaming stand-alone application and how to run the Spark applications in scala-SDK (Eclipse IDE).</p>

<h2>Building Spark Application using SBT</h2>

<p>A Standalone application in Scala using Apache Spark API. The application is build using Simple Build Tool(SBT).</p>

<p>For  creating a stand alone app take the twitter popular tag <a href="https://github.com/apache/spark/blob/branch-0.9/examples/src/main/scala/org/apache/spark/streaming/examples/TwitterPopularTags.scala">example</a></p>

<p>This program calculates popular hashtags (popular topics) over sliding 10 and 60 second windows from a Twitter stream. The stream is instantiated with credentials and optionally filters supplied by the command line arguments.</p>

<p>But here modified the code for talking twitter authentication credentials through command line argument. So it needs to give the arguments as <master> <consumerKey> <consumerSecret> <accessToken> <accessTokenSecret> <filters>.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='Scala'><span class='line'><span class="c1">// Twitter Authentication credentials  </span>
</span><span class='line'><span class="nc">System</span><span class="o">.</span><span class="n">setProperty</span><span class="o">(</span><span class="s">&quot;twitter4j.oauth.consumerKey&quot;</span><span class="o">,</span> <span class="n">args</span><span class="o">(</span><span class="mi">1</span><span class="o">))</span>
</span><span class='line'><span class="nc">System</span><span class="o">.</span><span class="n">setProperty</span><span class="o">(</span><span class="s">&quot;twitter4j.oauth.consumerSecret&quot;</span><span class="o">,</span> <span class="n">args</span><span class="o">(</span><span class="mi">2</span><span class="o">))</span>
</span><span class='line'><span class="nc">System</span><span class="o">.</span><span class="n">setProperty</span><span class="o">(</span><span class="s">&quot;twitter4j.oauth.accessToken&quot;</span><span class="o">,</span> <span class="n">args</span><span class="o">(</span><span class="mi">3</span><span class="o">))</span>
</span><span class='line'><span class="nc">System</span><span class="o">.</span><span class="n">setProperty</span><span class="o">(</span><span class="s">&quot;twitter4j.oauth.accessTokenSecret&quot;</span><span class="o">,</span> <span class="n">args</span><span class="o">(</span><span class="mi">4</span><span class="o">))</span>
</span></code></pre></td></tr></table></div></figure>


<p>
If you want to read twitter authentication credential from file, refer this <a href="https://github.com/pwendell/spark-twitter-collection/blob/master/TwitterUtils.scala">link</a></p>

<p>The sbt configuration file. For more detail about sbt <a href="http://www.scala-sbt.org/release/docs/Getting-Started/Setup.html">refer</a></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='Scala'><span class='line'><span class="n">name</span> <span class="o">:=</span> <span class="s">&quot;TwitterPopularTags&quot;</span>
</span><span class='line'>
</span><span class='line'><span class="n">version</span> <span class="o">:=</span> <span class="s">&quot;0.1.0&quot;</span>
</span><span class='line'>
</span><span class='line'><span class="n">scalaVersion</span> <span class="o">:=</span> <span class="s">&quot;2.10.3&quot;</span>
</span><span class='line'>
</span><span class='line'><span class="n">libraryDependencies</span> <span class="o">++=</span> <span class="nc">Seq</span><span class="o">(</span><span class="s">&quot;org.apache.spark&quot;</span> <span class="o">%%</span>
</span><span class='line'><span class="s">&quot;spark-core&quot;</span> <span class="o">%</span> <span class="s">&quot;0.9.0-incubating&quot;</span><span class="o">,</span>
</span><span class='line'><span class="s">&quot;org.apache.spark&quot;</span> <span class="o">%%</span> <span class="s">&quot;spark-streaming&quot;</span> <span class="o">%</span> <span class="s">&quot;0.9.0-incubating&quot;</span><span class="o">,</span>
</span><span class='line'><span class="s">&quot;org.apache.spark&quot;</span> <span class="o">%%</span> <span class="s">&quot;spark-streaming-twitter&quot;</span> <span class="o">%</span> <span class="s">&quot;0.9.0-incubating&quot;</span><span class="o">)</span>
</span><span class='line'>
</span><span class='line'><span class="n">resolvers</span> <span class="o">+=</span> <span class="s">&quot;Akka Repository&quot;</span> <span class="n">at</span> <span class="s">&quot;http://repo.akka.io/releases/&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<p>You can find the project from <a href="https://github.com/prabeesh/SparkTwitterAnalysis/tree/0.1.0">here</a></p>

<h2>Spark programming in Eclipse</h2>

<p>Using sbt eclipse plugin, sbt project can run on Eclipse IDE.  For more details find <a href="https://github.com/typesafehub/sbteclipse">here</a></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='Scala'><span class='line'><span class="n">addSbtPlugin</span><span class="o">(</span><span class="s">&quot;com.typesafe.sbteclipse&quot;</span> <span class="o">%</span> <span class="s">&quot;sbteclipse-plugin&quot;</span> <span class="o">%</span> <span class="s">&quot;2.1.0&quot;</span><span class="o">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>then run from root folder of the project</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='Scala'><span class='line'><span class="n">sbt</span><span class="o">/</span><span class="n">sbt</span> <span class="n">eclipse</span>
</span></code></pre></td></tr></table></div></figure>


<p>This command  creates a project compatible with Eclipse. Upon opening the eclipse IDE this project can now be imported and the executed with spark.</p>

<p>You can find the sbt eclipse project from <a href="https://github.com/prabeesh/SparkTwitterAnalysis/tree/0.2.0">here</a></p>

<p>To avoid generating eclipse source entries for the java directories and put all libs in the lib_managed directory, that way we can distribute eclipse project files, for this - add the contents to build.sbt</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='Scala'><span class='line'><span class="cm">/*put all libs in the lib_managed directory, </span>
</span><span class='line'><span class="cm">that way we can distribute eclipse project files</span>
</span><span class='line'><span class="cm">*/</span>
</span><span class='line'>
</span><span class='line'><span class="n">retrieveManaged</span> <span class="o">:=</span> <span class="kc">true</span>
</span><span class='line'>
</span><span class='line'><span class="nc">EclipseKeys</span><span class="o">.</span><span class="n">relativizeLibs</span> <span class="o">:=</span> <span class="kc">true</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// Avoid generating eclipse source entries for the java directories</span>
</span><span class='line'>
</span><span class='line'><span class="o">(</span><span class="n">unmanagedSourceDirectories</span> <span class="n">in</span> <span class="nc">Compile</span><span class="o">)</span> <span class="o">&lt;&lt;=</span> <span class="o">(</span><span class="n">scalaSource</span> <span class="n">in</span> <span class="nc">Compile</span><span class="o">)(</span><span class="nc">Seq</span><span class="o">(</span><span class="k">_</span><span class="o">))</span>
</span><span class='line'>
</span><span class='line'><span class="o">(</span><span class="n">unmanagedSourceDirectories</span> <span class="n">in</span> <span class="nc">Test</span><span class="o">)</span> <span class="o">&lt;&lt;=</span> <span class="o">(</span><span class="n">scalaSource</span> <span class="n">in</span> <span class="nc">Test</span><span class="o">)(</span><span class="nc">Seq</span><span class="o">(</span><span class="k">_</span><span class="o">))</span>
</span></code></pre></td></tr></table></div></figure>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Installing Apache Spark on Ubuntu-12.04]]></title>
    <link href="http://blog.prabeeshk.com/blog/2013/11/26/installing-apache-spark-on-ubuntu-1204/"/>
    <updated>2013-11-26T12:24:00+05:30</updated>
    <id>http://blog.prabeeshk.com/blog/2013/11/26/installing-apache-spark-on-ubuntu-1204</id>
    <content type="html"><![CDATA[<p>Apache Spark is an open source in memory cluster computing framework. Initially developed in UC Berkely AMPLab and now an Apache Incubator Project.    Spark is a cluster computing framework designed for low-latency iterative jobs and interactive use from an interpreter. It provides clean, language-integrated APIs in Scala, Java, and Python, with a rich array of parallel operators. You may read more about it <a href="http://spark.apache.org/">here</a></p>

<p>You can download the Apache Spark distribution(0.8.0-incubating) from <a href="http://d3kbcqa49mib13.cloudfront.net/spark-0.8.0-incubating.tgz">here</a>. After that untar the downloaded file.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ tar xvf spark-0.8.0-incubating.tgz</span></code></pre></td></tr></table></div></figure>


<p>You need to have Scala installed, or the SCALA_HOME environment variable pointing to a Scala installation.</p>

<h3>Building</h3>

<p>SBT(Simple Build Tool) is used for building Spark, which is bundled with it. To compile the code</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ cd spark-0.8.0-incubating
</span><span class='line'>
</span><span class='line'>$sbt/sbt assembly</span></code></pre></td></tr></table></div></figure>


<p>Building take some time. After successfully packing you can test a sample program</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$./run-example org.apache.spark.examples.SparkPi local</span></code></pre></td></tr></table></div></figure>


<p>Then you get the output as
Pi is roughly 3.14634. Spark is ready to fire</p>

<h3>Spark Interactive Shell</h3>

<p>You can run Spark interactively through the Scala shell</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$./spark-shell</span></code></pre></td></tr></table></div></figure>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='scala'><span class='line'><span class="n">scala</span><span class="o">&gt;</span> <span class="k">val</span> <span class="n">textFile</span> <span class="k">=</span> <span class="n">sc</span><span class="o">.</span><span class="n">textFile</span><span class="o">(</span><span class="s">&quot;README.md&quot;</span><span class="o">)</span>
</span><span class='line'><span class="n">scala</span><span class="o">&gt;</span> <span class="n">textFile</span><span class="o">.</span><span class="n">count</span><span class="o">()</span>
</span></code></pre></td></tr></table></div></figure>


<p>Using this you can check your code line by line.</p>

<h3>Accessing Hadoop Filesystems</h3>

<p>You can run Spark along with your existing Hadoop Cluster. To access Hadoop data from Spark, just use a hdfs://URL.  Run a word count example in the shell, taking input from hdfs and writing output back to hdfs. For using hdfs you must rebuild Spark against the same version that your hdfs cluster uses. From the Spark download page, you may download a prebuilt package.
If you have already the build source package, rebuild it against the hadoop version as follows</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='scala'><span class='line'><span class="nc">$sbt</span><span class="o">/</span><span class="n">sbt</span> <span class="n">clean</span>
</span></code></pre></td></tr></table></div></figure>


<p>You can change this by setting the SPARK_HADOOP_VERSION variable. Here uses Hadoop 2.0.0-cdh4.3.0</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='scala'><span class='line'><span class="nc">$SPARK_HADOOP_VERSION</span><span class="k">=</span><span class="mf">2.0</span><span class="o">.</span><span class="mi">0</span><span class="o">-</span><span class="n">mr1</span><span class="o">-</span><span class="n">cdh4</span><span class="o">.</span><span class="mf">3.0</span> <span class="n">sbt</span><span class="o">/</span><span class="n">sbt</span> <span class="n">assembly</span>
</span></code></pre></td></tr></table></div></figure>


<p>After successfully build. You can read  and write data into cdh4.3.0 clusters.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='scala'><span class='line'><span class="n">$</span><span class="o">./</span><span class="n">spark</span><span class="o">-</span><span class="n">shell</span>
</span></code></pre></td></tr></table></div></figure>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='scala'><span class='line'><span class="n">scala</span><span class="o">&gt;</span> <span class="k">var</span> <span class="n">file</span> <span class="k">=</span> <span class="n">sc</span><span class="o">.</span><span class="n">textFile</span><span class="o">(</span><span class="s">&quot;hdfs://IP:8020/path/to/textfile.txt&quot;</span><span class="o">)</span>
</span><span class='line'><span class="n">scala</span><span class="o">&gt;</span>  <span class="n">file</span><span class="o">.</span><span class="n">flatMap</span><span class="o">(</span><span class="n">line</span> <span class="k">=&gt;</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="o">(</span><span class="s">&quot;,&quot;</span><span class="o">)).</span><span class="n">map</span><span class="o">(</span><span class="n">word</span> <span class="k">=&gt;</span> <span class="o">(</span><span class="n">word</span><span class="o">,</span> <span class="mi">1</span><span class="o">)).</span><span class="n">reduceByKey</span><span class="o">(</span><span class="k">_</span><span class="o">+</span><span class="k">_</span><span class="o">)</span>
</span><span class='line'><span class="n">scala</span><span class="o">&gt;</span> <span class="n">count</span><span class="o">.</span><span class="n">saveAsTextFile</span><span class="o">(</span><span class="s">&quot;hdfs://IP:8020/path/to/ouput&quot;</span><span class="o">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>You may find more <a href="http://spark.apache.org/docs/latest/quick-start.html">here</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Running Mesos-0.13.0 on Ubuntu-12.04]]></title>
    <link href="http://blog.prabeeshk.com/blog/2013/10/07/running-mesos-0130-on-ubuntu-1204/"/>
    <updated>2013-10-07T10:53:00+05:30</updated>
    <id>http://blog.prabeeshk.com/blog/2013/10/07/running-mesos-0130-on-ubuntu-1204</id>
    <content type="html"><![CDATA[<p>You will need the following packages to run Mesos.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ sudo apt-get install python2.7-dev g++ libcppunit-dev libunwind7-dev git libcurl4-nss-dev</span></code></pre></td></tr></table></div></figure>


<p>You need to have Java installed, or the JAVA_HOME environment variable pointing to a Java installation.</p>

<p>You can download the Mesos distribution from <a href="http://www.apache.org/dyn/closer.cgi/mesos/0.13.0/">here</a>. After that untar the downloaded file</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ tar xvf mesos-0.13.0.tar.gz</span></code></pre></td></tr></table></div></figure>


<h3>Building and Installing</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ cd mesos-0.13.0
</span><span class='line'>$ mkdir build
</span><span class='line'>$ cd build
</span><span class='line'>$ sudo  ../configure --prefix=/home/user/mesos
</span><span class='line'>$ sudo make
</span><span class='line'>$ sudo make check
</span><span class='line'>$ sudo make install</span></code></pre></td></tr></table></div></figure>


<p>You can pass the &ndash;prefix option while configuring to tell where to install. For example, pass<strong><strong>&ndash;prefix=/home/user/mesos</strong></strong>. By default the prefix is <strong><strong>/usr/local</strong></strong>.
Once you are done with the installation, it is now time to start your mesos cluster:</p>

<p>Go into the directory where you built Mesos.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ cd mesos-0.13.0/build/bin</span></code></pre></td></tr></table></div></figure>


<p>Run the command to launch the master.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ sh mesos-master.sh </span></code></pre></td></tr></table></div></figure>


<p>
Take note of the IP and port that the master is running on, which will look something like <strong><strong>[IP of the machine]:5050</strong></strong>.
URL of master: <strong>mesos://[IP of the machine]:5050</strong>. View the master&rsquo;s web UI at <strong><code>http://[IP of the machine]:5050</code></strong>.</p>

<p>Copy mesos-0.13.0 and mesos to the same paths on all the nodes in the cluster. To launch a slave go to the directory</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ cd mesos-0.13.0/build/src</span></code></pre></td></tr></table></div></figure>


<p>Run the command to launch the slave.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ sh mesos-slave  --master=[IP of the mesos master machine ]:5050</span></code></pre></td></tr></table></div></figure>


<p>The slave will show up on the mesos master&rsquo;s web UI.</p>

<h3>Mesos Client</h3>

<p>Copy the libmesos.so from prefix folder(/home/user/mesos/lib) of the mesos master to /usr/local/lib of the client machine and install the following package</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ sudo apt-get install libunwind7-dev</span></code></pre></td></tr></table></div></figure>


<p>
Now you can  run  applications against the Mesos cluster from client machine.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[MQTT Scala Publisher and Subscriber Using Eclipse Paho]]></title>
    <link href="http://blog.prabeeshk.com/blog/2013/08/26/mqtt-scala-publisher-and-subscriber/"/>
    <updated>2013-08-26T09:41:00+05:30</updated>
    <id>http://blog.prabeeshk.com/blog/2013/08/26/mqtt-scala-publisher-and-subscriber</id>
    <content type="html"><![CDATA[<p>MQTT is a machine-to-machine (M2M)/Internet of Things connectivity protocol. It was designed with extremely lightweight that support embedded and low power processing device. You may read more about it <a href="http://mqtt.org/">here</a>. MQTT is broker based message queuing system. To work with Mqtt, Mqtt Message broker/server required. <a href="http://mosquitto.org/">Mosquitto</a> is an open source Mqtt Broker. In ubuntu mosquitto can be installed using the command</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ sudo apt-get install mosquitto</span></code></pre></td></tr></table></div></figure>


<p>Eclipse Paho is one mqtt client work well with mosquitto. You may read more about it <a href="http://www.eclipse.org/paho/">here</a>.</p>

<p>MQTT Scala subscriber and publisher code based on eclipse paho library 0.4.0 is available in <a href="https://github.com/prabeesh/MQTTScalaClient">github</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Paint App Using Flask With MongoDB]]></title>
    <link href="http://blog.prabeeshk.com/blog/2013/03/31/paint-app-using-flask-with-mongodb/"/>
    <updated>2013-03-31T21:53:00+05:30</updated>
    <id>http://blog.prabeeshk.com/blog/2013/03/31/paint-app-using-flask-with-mongodb</id>
    <content type="html"><![CDATA[<p>Here the paint app is modified using with a new database system. The MongoDB, is a famous NoSQL database system. The NoSQL database is a simple lightweight mechanism. It provides high scalability and availability. It provides horizontal scaling of data. This system redefined the database concept from the traditional relational database system.
   MongoDB is an open-source, document-oriented database designed for ease of development and scaling. The main features of MongoDB are flexibility, power, speed, and ease of use. The MongoDB can installed in local machine by following the instructions from <a href="http://docs.mongodb.org/manual/installation/">official website</a></p>

<p>Some commands used in the MonoDB operations are given below:</p>

<p>  <code>db</code> :- After starting the mongo shell your session will use the test database for context, by default. At any time issue the above operation at the mongo to report the current database.
  <code>show dbs</code> :- Display the list of databases from the mongo shell.
  <code>use mydb</code> :- Switch to a new database named mydb.
  <code>help</code> :- At any point you can access help for the mango shell using thisoperation.
  <code>db.things.insert()</code> :- Insert documents into the collection things.When you insert the first document, the mangod will create both the database and the things collection.
  <code>show collections</code> :- Displays the available collections in the database.
  <code>db.things.find()</code> :- Finds the documents in the collection. The documents to be found can be specified through arguments of the find function. The cursor of the MongoDB displays only the first 20 output documents. it command is used to display the rest of the documents.</p>

<p>The source code is available in <a href="https://github.com/prabeesh/Paintapp-Javascript-Canvas-Flask-MongoDB">github</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Paint App Using JavaScript and Canvas]]></title>
    <link href="http://blog.prabeeshk.com/blog/2013/03/30/paint-app-using-javascript-and-canvas/"/>
    <updated>2013-03-30T12:44:00+05:30</updated>
    <id>http://blog.prabeeshk.com/blog/2013/03/30/paint-app-using-javascript-and-canvas</id>
    <content type="html"><![CDATA[<p>An application to draw simple drawings using lines, rectangles and circles in different colours.</p>

<p><img class="center" src="http://blog.prabeeshk.com/images/paint.png" width="850" height="350" title="image" alt="images"></p>

<p>The application is developed using JavaScript and HTML5. The canvas feature in HTML5 is used for providing a drawable region. The JavaScript is used to handle drawing functions in these region. The select button to select the different tools to draw. The colour picker is made using the button option. The script basically listen three mouse events mousedown, mousemove and mouseup. This application implemented using two different frameworks Google App Engine and Flask.</p>

<h3>Application with saving facility</h3>

<p>This is done by saving values about each object needed to regenerate the same drawing. When we click the save button the data is transferred to the server as a json string where it is stored along with a name provided by the user. Simply regenerate the drawing using the data received from the server.</p>

<p>In Google App Engine Google data storage is used for data storage. But in Flask sqlite3 is used for data storage.</p>

<p>Source code: <a href="https://github.com/prabeesh/Paintapp-Javascript-Canvas-GAE">App with GAE</a> and <a href="https://github.com/prabeesh/Paintapp-Javascript-Canvas-Flask">App with Flask</a></p>

<p>The app is deployed in appspot.com, You can find the application <a href="http://prabs-paint.appspot.com/">here</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Simple CUDA Program]]></title>
    <link href="http://blog.prabeeshk.com/blog/2013/03/07/a-simple-cuda-program/"/>
    <updated>2013-03-07T11:00:00+05:30</updated>
    <id>http://blog.prabeeshk.com/blog/2013/03/07/a-simple-cuda-program</id>
    <content type="html"><![CDATA[<p>Let&rsquo;s consider a simple example CUDA code to compute squares of 64 numbers. A typical GPU program consist of following steps.</p>

<pre><code>1- CPU allocates storage on GPU
2- CPU copies input data from CPU to GPU
3- CPU launch kernels on GPU to process the data
4- CPU copies result back to CPU from GPU
</code></pre>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="n">nvcc</span> <span class="o">-</span><span class="n">o</span> <span class="n">square</span> <span class="n">square</span><span class="p">.</span><span class="n">cu</span>
</span></code></pre></td></tr></table></div></figure>


<p>Here is instead of running the regular C compiler we are running <em>nvcc</em>, the Nvidia C Compiler. The output is going to go an executable called square and our input file is &ldquo;square.cu&rdquo;. cu is the convention for how we name.Source code is available in <a href="https://github.com/prabeesh/CUDA-code-square/blob/master/square.cu">github</a></p>

<p>We are going to walk through the CPU code first.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">**</span> <span class="n">argv</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">const</span> <span class="kt">int</span> <span class="n">ARRAY_SIZE</span> <span class="o">=</span> <span class="mi">64</span><span class="p">;</span>
</span><span class='line'>    <span class="k">const</span> <span class="kt">int</span> <span class="n">ARRAY_BYTES</span> <span class="o">=</span> <span class="n">ARRAY_SIZE</span> <span class="o">*</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">float</span><span class="p">);</span>
</span><span class='line'>    <span class="c1">// generate the input array on the host float h_in[ARRAY_SIZE]; </span>
</span><span class='line'>    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span> <span class="n">ARRAY_SIZE</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="n">h_in</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="kt">float</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kt">float</span> <span class="n">h_out</span><span class="p">[</span><span class="n">ARRAY_SIZE</span><span class="p">]</span>
</span><span class='line'><span class="p">....</span>
</span><span class='line'><span class="p">.....</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>The first thing we are going to do is declare the size of the array and determine how many bytes it uses. We then fill it up in this loop with floating point numbers, where array element i is simply set to i. All of this is standard C, nothing GPU specific so far. One thing to note, though, is a common CUDA convention. Data on the CPU, the host, starts with h. Data on the GPU, the device, starts with d. This is just a convention.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="c1">// declare GPU memory pointers </span>
</span><span class='line'><span class="kt">float</span> <span class="o">*</span> <span class="n">d_in</span><span class="p">;</span>
</span><span class='line'><span class="kt">float</span> <span class="o">*</span> <span class="n">d_out</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure>


<p>If you&rsquo;re accessing data through a point or on the CPU, your pointer better point to something in CPU memory, or you&rsquo;re going to have a bad time. Same thing for the GPU. And the first interesting thing that you see is how to declare a pointer on the GPU. It looks just like a pointer declared on the CPU. It&rsquo;s just a float star.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="c1">// allocate GPU memory </span>
</span><span class='line'><span class="n">cudaMalloc</span><span class="p">((</span><span class="kt">void</span><span class="o">**</span><span class="p">)</span> <span class="o">&amp;</span><span class="n">d_in</span><span class="p">,</span> <span class="n">ARRAY_BYTES</span><span class="p">);</span>
</span><span class='line'><span class="n">cudaMalloc</span><span class="p">((</span><span class="kt">void</span><span class="o">**</span><span class="p">)</span> <span class="o">&amp;</span><span class="n">d_out</span><span class="p">,</span> <span class="n">ARRAY_BYTES</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>Now, to tell Cuda that your data is actually on the GPU, not the CPU. We are using cudaMalloc with two arguments, the pointer and the number of bytes to allocate. cudaMalloc means allocate the data on the GPU whereas, a plain Malloc would mean allocate the data on a CPU.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="c1">// transfer the array to the GPU </span>
</span><span class='line'><span class="n">cudaMemcpy</span><span class="p">(</span><span class="n">d_in</span><span class="p">,</span> <span class="n">h_in</span><span class="p">,</span> <span class="n">ARRAY_BYTES</span><span class="p">,</span> <span class="n">cudaMemcpyHostToDevice</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>The next thing we do is actually copy the data from the CPU the array h_in on to the GPU, the array din. This call is cudaMemcpy. It&rsquo;s just like a regular Memcpy, but it takes four arguments instead of three. The first three arguments are the same as regular C Memcpy, the destination, the source, and the number of bytes. The fourth argument says the direction of the transfer. The three choices are Cuda memory host to device, Cuda memory device to host, and Cuda memory device to device.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="c1">// launch the kernel </span>
</span><span class='line'><span class="n">square</span><span class="o">&lt;&lt;&lt;</span><span class="n">dim3</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="n">dim3</span><span class="p">(</span><span class="mi">64</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="o">&gt;&gt;&gt;</span><span class="p">(</span><span class="n">d_out</span><span class="p">,</span> <span class="n">d_in</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>Now consider how do we actually launch kernal on the GPU. So, here is a new piece of syntax in CUDA, the CUDA launch operator. So, the CUDA launch operator</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="o">&lt;&lt;&lt;</span><span class="n">someparameters</span><span class="o">&gt;&gt;&gt;</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure>


<p>So, this line says, launch the kernel name square on one block of 64 elements. Then, the arguments to the kernel are two pointers, d_out and d_in. This code tells the CPU to launch on the GPU 64 copies of the kernel on 64 threads. Note that we can only call the kernel on GPU data, not CPU data. And this cudaMemcpy call will move memory from device to host, and place it in h_out.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="c1">// print out the resulting array </span>
</span><span class='line'><span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="p">;</span> <span class="n">ARRAY_SIZE</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%f&quot;</span><span class="p">,</span> <span class="n">h_out</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
</span><span class='line'>    <span class="n">printf</span><span class="p">(((</span><span class="n">i</span> <span class="o">%</span> <span class="mi">4</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">3</span><span class="p">)</span> <span class="o">?</span> <span class="s">&quot;</span><span class="se">\t</span><span class="s">&quot;</span> <span class="o">:</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>    <span class="n">cudaFree</span><span class="p">(</span><span class="n">d_in</span><span class="p">);</span> <span class="n">c</span>
</span><span class='line'>    <span class="nf">udaFree</span><span class="p">(</span><span class="n">d_out</span><span class="p">);</span>
</span><span class='line'>    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure>


<p>The next thing we do is print it out. We are just walking through the h_out array, we are printing four things per line, so we are;putting tabs in and then a new line after four, and then we free the memory that we allocated on the GPU and return 0. So, that&rsquo;s all the CPU code.; ;Most programs are going to have you create some data on the CPU, allocate;some data on the GPU, copy memory from CPU to GPU, launch some kernels that will run on the GPU, copy the result back to the CPU and then, continue;to process them, print them, and so on.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="n">__global__</span> <span class="kt">void</span> <span class="nf">square</span><span class="p">(</span><span class="kt">float</span> <span class="o">*</span> <span class="n">d_out</span><span class="p">,</span> <span class="kt">float</span> <span class="o">*</span> <span class="n">d_in</span><span class="p">){</span>
</span><span class='line'>    <span class="kt">int</span> <span class="n">idx</span> <span class="o">=</span> <span class="n">threadIdx</span><span class="p">.</span><span class="n">x</span><span class="p">;</span>
</span><span class='line'>    <span class="kt">float</span> <span class="n">f</span> <span class="o">=</span> <span class="n">d_in</span><span class="p">[</span><span class="n">idx</span><span class="p">];</span>
</span><span class='line'>    <span class="n">d_out</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="o">=</span> <span class="n">f</span> <span class="o">*</span> <span class="n">f</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Now let&rsquo;s look at the kernel itself. Recall that this will look like a serial program that will run on one thread. And the CPU is responsible for launching that;program on many parallel threads. This kernel indeed looks exactly like a serial program.</p>

<p>Just know that this is the way;that CUDA knows this code is a kernel as opposed to CPU code. Next we have void. Void just means the kernel doesn&rsquo;t return a value. Instead it writes the;output into the pointer specified in its argument list. This kernel takes two arguments. These are pointers to the output and the input arrays.</p>

<p>Let&rsquo;s walk through the body of the kernel. So the first line of the body here. CUDA has a built in variable called thread index, threadIDX, and that&rsquo;s going to tell each thread its index within a block. threadIDX is actually a c struct with 3 members. .x, .y, and .z. the c struct is called a dim 3. Now, we will launch 64 threads. So for the first instance of those threads, threadIDX.x will return zero, for the second instance, 1. And so on, up to 63 for the last element. Everything else in this kernel just looks like straightforward C. It looks just like a serial program.</p>

<p>For each thread, we&rsquo;re going to first read the array element corresponding to this thread index from global memory. We are going to store it in this float;variable f. We are then going to square f, and we&rsquo;re going to write that value back to global memory, in the output array element that corresponds to our thread index.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Finding RC Constant Using ATmega8]]></title>
    <link href="http://blog.prabeeshk.com/blog/2012/07/14/finding-rc-constant-using-atmega8/"/>
    <updated>2012-07-14T23:39:00+05:30</updated>
    <id>http://blog.prabeeshk.com/blog/2012/07/14/finding-rc-constant-using-atmega8</id>
    <content type="html"><![CDATA[<p>The time constant(sec) of a RC circuit is equal to the product of the resistance and the capacitance of the circuit.</p>

<p>It is the time required to charge the capacitor through the resistor to 63. 2% of full charge,or to discharge it to 36.8% of its initial voltage.</p>

<p>The voltage of the RC circuit is measured using adc of the ATmega8, input voltage for RC circuit is given from PB0. The timer is start  at the time of the PB0 making 1 .</p>

<p>The adc of ATmega8(ADCH) is 8 bit long so corresponding to 5V get 255 in ADCH. The TCNT1 value is taken to a variable when the output voltage of the RC circuit become 63.2% of input voltage.That is  3.16 v corresponding to these voltage ADCH show 161(appr).</p>

<p>Using a LCD can show the TCNT1 value. TCNT1 is 16 bit long.Here ATmega8 running in 8MHz clock,timer prescaled by 1024.</p>

<p>So if you get the real time multiply the TCNT1 value to (1024/8000000).</p>

<p>Some test examples:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'> R=1k  C=100F  the calculated RC constant is 0.1S.</span></code></pre></td></tr></table></div></figure>


<p>The value of  TCNT1 is 846.Which is equal to 0.108288s.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'> R=2k  C=100F  the calculated RC constant is 0.2S.</span></code></pre></td></tr></table></div></figure>


<p>The value of  TCNT1 is 1864.Which is equal to 0.238592s.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
<span class='line-number'>94</span>
<span class='line-number'>95</span>
<span class='line-number'>96</span>
<span class='line-number'>97</span>
<span class='line-number'>98</span>
<span class='line-number'>99</span>
<span class='line-number'>100</span>
<span class='line-number'>101</span>
<span class='line-number'>102</span>
<span class='line-number'>103</span>
<span class='line-number'>104</span>
<span class='line-number'>105</span>
<span class='line-number'>106</span>
<span class='line-number'>107</span>
<span class='line-number'>108</span>
<span class='line-number'>109</span>
<span class='line-number'>110</span>
<span class='line-number'>111</span>
<span class='line-number'>112</span>
<span class='line-number'>113</span>
<span class='line-number'>114</span>
<span class='line-number'>115</span>
<span class='line-number'>116</span>
<span class='line-number'>117</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="cp">#include&lt;avr/io.h&gt;</span>
</span><span class='line'><span class="cp">#define F_CPU 8000000UL</span>
</span><span class='line'><span class="cp">#include &lt;util/delay.h&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="cp">#define RS 6 </span><span class="c1">//PD6</span>
</span><span class='line'><span class="cp">#define EN 7 </span><span class="c1">//PD7</span>
</span><span class='line'><span class="cp">#define databits PORTC </span><span class="c1">//PC0 to PC3</span>
</span><span class='line'><span class="cp">#define row1 cmd(0x80)</span>
</span><span class='line'><span class="cp">#define row2 cmd(0xc0)</span>
</span><span class='line'>
</span><span class='line'><span class="kt">void</span> <span class="nf">adc_init</span><span class="p">()</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>   <span class="c1">//select AVCC reference voltage , left alignment of data and ADC4</span>
</span><span class='line'>   <span class="n">ADMUX</span><span class="o">=</span><span class="p">((</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">REFS0</span><span class="p">)</span><span class="o">|</span><span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">ADLAR</span><span class="p">)</span><span class="o">|</span><span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">MUX2</span><span class="p">));</span>
</span><span class='line'>
</span><span class='line'>   <span class="c1">//enable ADC, set prescaler to divide the clock by 64 and auto triggering mode</span>
</span><span class='line'>   <span class="n">ADCSRA</span><span class="o">=</span><span class="p">((</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">ADEN</span><span class="p">)</span><span class="o">|</span><span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">ADFR</span><span class="p">)</span><span class="o">|</span><span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">ADPS2</span><span class="p">)</span><span class="o">|</span><span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">ADPS1</span><span class="p">)</span><span class="o">|</span><span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">ADPS0</span><span class="p">));</span>
</span><span class='line'>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kt">void</span> <span class="nf">conversion</span><span class="p">()</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>   <span class="c1">//start conversion</span>
</span><span class='line'>   <span class="n">ADCSRA</span><span class="o">|=</span><span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">ADSC</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kt">void</span> <span class="nf">port_init</span><span class="p">()</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>   <span class="n">DDRC</span> <span class="o">=</span> <span class="mh">0xcf</span><span class="p">;</span>
</span><span class='line'>   <span class="n">DDRD</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="n">RS</span><span class="p">)</span><span class="o">|</span><span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="n">EN</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kt">void</span> <span class="nf">LCD_STROBE</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>   <span class="n">PORTD</span> <span class="o">|=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="n">EN</span><span class="p">);</span>
</span><span class='line'>   <span class="n">_delay_us</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
</span><span class='line'>   <span class="n">PORTD</span> <span class="o">&amp;=</span> <span class="o">~</span><span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="n">EN</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kt">void</span> <span class="nf">data</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">c</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>   <span class="n">PORTD</span> <span class="o">|=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="n">RS</span><span class="p">);</span>
</span><span class='line'>   <span class="n">_delay_us</span><span class="p">(</span><span class="mi">50</span><span class="p">);</span>
</span><span class='line'>   <span class="n">databits</span> <span class="o">=</span> <span class="p">(</span><span class="n">c</span> <span class="o">&gt;&gt;</span> <span class="mi">4</span><span class="p">);</span>
</span><span class='line'>   <span class="n">LCD_STROBE</span><span class="p">();</span>
</span><span class='line'>   <span class="n">databits</span> <span class="o">=</span> <span class="p">(</span><span class="n">c</span><span class="p">);</span>
</span><span class='line'>   <span class="n">LCD_STROBE</span><span class="p">();</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kt">void</span> <span class="nf">cmd</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">c</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>   <span class="n">PORTD</span> <span class="o">&amp;=</span> <span class="o">~</span><span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="n">RS</span><span class="p">);</span>
</span><span class='line'>   <span class="n">_delay_us</span><span class="p">(</span><span class="mi">50</span><span class="p">);</span>
</span><span class='line'>   <span class="n">databits</span> <span class="o">=</span> <span class="p">(</span><span class="n">c</span> <span class="o">&gt;&gt;</span> <span class="mi">4</span><span class="p">);</span>
</span><span class='line'>   <span class="n">LCD_STROBE</span><span class="p">();</span>
</span><span class='line'>   <span class="n">databits</span> <span class="o">=</span> <span class="p">(</span><span class="n">c</span><span class="p">);</span>
</span><span class='line'>   <span class="n">LCD_STROBE</span><span class="p">();</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kt">void</span> <span class="nf">clear</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>   <span class="n">cmd</span><span class="p">(</span><span class="mh">0x01</span><span class="p">);</span>
</span><span class='line'>   <span class="n">_delay_ms</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kt">void</span> <span class="nf">lcd_init</span><span class="p">()</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>   <span class="n">_delay_ms</span><span class="p">(</span><span class="mi">15</span><span class="p">);</span>
</span><span class='line'>   <span class="n">cmd</span><span class="p">(</span><span class="mh">0x30</span><span class="p">);</span>
</span><span class='line'>   <span class="n">_delay_ms</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
</span><span class='line'>   <span class="n">cmd</span><span class="p">(</span><span class="mh">0x30</span><span class="p">);</span>
</span><span class='line'>   <span class="n">_delay_us</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span>
</span><span class='line'>   <span class="n">cmd</span><span class="p">(</span><span class="mh">0x30</span><span class="p">);</span>
</span><span class='line'>   <span class="n">cmd</span><span class="p">(</span><span class="mh">0x28</span><span class="p">);</span> <span class="c1">// Function set (4-bit interface, 2 lines, 5*7Pixels)</span>
</span><span class='line'>   <span class="n">cmd</span><span class="p">(</span><span class="mh">0x28</span><span class="p">);</span> <span class="c1">// Function set (4-bit interface, 2 lines, 5*7Pixels)</span>
</span><span class='line'>   <span class="n">cmd</span><span class="p">(</span><span class="mh">0x0c</span><span class="p">);</span> <span class="c1">// Make cursorinvisible</span>
</span><span class='line'>   <span class="n">clear</span><span class="p">();</span> <span class="c1">// Clear screen</span>
</span><span class='line'>   <span class="n">cmd</span><span class="p">(</span><span class="mh">0x6</span><span class="p">);</span> <span class="c1">// Set entry Mode(auto increment of cursor)</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kt">void</span> <span class="nf">print</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">p</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>   <span class="k">while</span><span class="p">(</span><span class="o">*</span><span class="n">p</span><span class="p">)</span> <span class="n">data</span><span class="p">(</span><span class="o">*</span><span class="n">p</span><span class="o">++</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kt">void</span> <span class="nf">main</span><span class="p">()</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>   <span class="kt">char</span> <span class="n">a</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span><span class="n">b</span><span class="p">[</span><span class="mi">5</span><span class="p">];</span>
</span><span class='line'>   <span class="kt">int</span> <span class="n">c</span><span class="p">,</span><span class="n">d</span><span class="p">;</span>
</span><span class='line'>   <span class="n">DDRB</span><span class="o">=</span><span class="mh">0x01</span><span class="p">;</span>
</span><span class='line'>   <span class="n">_delay_ms</span><span class="p">(</span><span class="mi">50</span><span class="p">);</span>
</span><span class='line'>   <span class="n">TCCR1B</span><span class="o">|=</span><span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">CS10</span><span class="p">)</span><span class="o">|</span><span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">CS12</span><span class="p">);</span><span class="c1">//prescale 1024</span>
</span><span class='line'>   <span class="n">port_init</span><span class="p">();</span>
</span><span class='line'>   <span class="n">adc_init</span><span class="p">();</span>
</span><span class='line'>   <span class="n">lcd_init</span><span class="p">();</span>
</span><span class='line'>   <span class="n">PORTB</span><span class="o">=</span><span class="mh">0x01</span><span class="p">;</span><span class="c1">//applying vcc to RC circuit</span>
</span><span class='line'>   <span class="n">TCNT1</span><span class="o">=</span><span class="mh">0x00</span><span class="p">;</span><span class="c1">//start the timer</span>
</span><span class='line'>
</span><span class='line'>   <span class="k">while</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span class='line'>   <span class="p">{</span>
</span><span class='line'>      <span class="n">conversion</span><span class="p">();</span>
</span><span class='line'>
</span><span class='line'>      <span class="k">while</span><span class="p">(</span><span class="o">!</span><span class="p">(</span> <span class="n">ADIF</span><span class="p">));</span>
</span><span class='line'>
</span><span class='line'>      <span class="k">if</span><span class="p">(</span><span class="n">ADCH</span><span class="o">==</span><span class="mi">161</span><span class="p">)</span><span class="c1">//63% of the input voltage</span>
</span><span class='line'>      <span class="p">{</span>
</span><span class='line'>         <span class="n">c</span><span class="o">=</span><span class="n">TCNT1</span><span class="p">;</span>
</span><span class='line'>         <span class="n">d</span><span class="o">=</span><span class="n">ADCH</span><span class="p">;</span>
</span><span class='line'>         <span class="n">itoa</span><span class="p">(</span><span class="n">c</span><span class="p">,</span><span class="n">a</span><span class="p">,</span><span class="mi">10</span><span class="p">);</span><span class="c1">//integer to ASCII</span>
</span><span class='line'>         <span class="n">itoa</span><span class="p">(</span><span class="n">d</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="mi">10</span><span class="p">);</span><span class="c1">//integer to ASCII</span>
</span><span class='line'>         <span class="n">row1</span><span class="p">;</span>
</span><span class='line'>         <span class="n">print</span><span class="p">(</span><span class="n">a</span><span class="p">);</span><span class="c1">//showing timer value</span>
</span><span class='line'>         <span class="n">row2</span><span class="p">;</span>
</span><span class='line'>         <span class="n">print</span><span class="p">(</span><span class="n">b</span><span class="p">);</span><span class="c1">//showing adc value</span>
</span><span class='line'>      <span class="p">}</span>
</span><span class='line'>   <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Running Arduino Codes in Stand Alone Atmega8]]></title>
    <link href="http://blog.prabeeshk.com/blog/2012/07/14/running-arduino-codes-in-stand-alone/"/>
    <updated>2012-07-14T02:23:00+05:30</updated>
    <id>http://blog.prabeeshk.com/blog/2012/07/14/running-arduino-codes-in-stand-alone</id>
    <content type="html"><![CDATA[<p>An Arduino board consists of an 8-bit Atmel AVR microcontroller with complementary components to facilitate programming and incorporation into other circuits.
If you wish to study the arduino codes ,then one of the major problems is the availability and cost of the Arduino board. If you have an atmega8 microcontroller  then you have to study the Arduino codes by simply changing some options in Arduino IDE.</p>

<p>First download the arduino IDE(I am using Arduino 1.0). Next you have to an avr  programmer(I am using usbasp and usbtiny).
Launch the arduino IDE as root.Then select your programmer from tools and also select your board  in this case select ATmega8.
Take care in fuse bytes because arduino codes are running in 8MHz.Y ou can enable internal 8MHz clock by</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="o">-</span><span class="n">U</span> <span class="nl">lfuse</span><span class="p">:</span><span class="nl">w</span><span class="p">:</span><span class="mh">0xa4</span><span class="o">:</span><span class="n">m</span> <span class="o">-</span><span class="n">U</span> <span class="nl">hfuse</span><span class="p">:</span><span class="nl">w</span><span class="p">:</span><span class="mh">0xcc</span><span class="o">:</span><span class="n">m</span>
</span></code></pre></td></tr></table></div></figure>


<p>Or you can enable the external crystal by setting the fuse byte as</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="o">-</span><span class="n">U</span> <span class="nl">lfuse</span><span class="p">:</span><span class="nl">w</span><span class="p">:</span><span class="mh">0xef</span><span class="o">:</span><span class="n">m</span>
</span></code></pre></td></tr></table></div></figure>


<p>and put a  8MHz crystal.</p>

<p>You can find mapping between atmega8 and arduino here</p>

<p><img class="center" src="http://blog.prabeeshk.com/images/arduino.png" width="600" height="350" title="image" alt="images"></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Simplest and Low Cost USB AVR Programmer USBtinyISP]]></title>
    <link href="http://blog.prabeeshk.com/blog/2012/07/04/simplest-and-low-cost-usb-avr/"/>
    <updated>2012-07-04T19:39:00+05:30</updated>
    <id>http://blog.prabeeshk.com/blog/2012/07/04/simplest-and-low-cost-usb-avr</id>
    <content type="html"><![CDATA[<p>This is the low cost AVR programmer using attiny2313. The schematic diagram is given below.</p>

<p><img class="center" src="http://blog.prabeeshk.com/images/usbtiny_circuit.png" width="600" height="350" title="image" alt="images"></p>

<p>First setup the circuit as shown. Refer <a href="https://learn.adafruit.com/usbtinyisp">this site</a> for to burn program to this attiny 2313.</p>

<p>One important care taken to make fuse bit</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="n">avrdude</span> <span class="o">-</span><span class="n">c</span> <span class="n">usbasp</span> <span class="o">-</span><span class="n">p</span> <span class="n">t2313</span> <span class="o">-</span><span class="n">U</span> <span class="nl">hfuse</span><span class="p">:</span><span class="nl">w</span><span class="p">:</span><span class="mh">0xdf</span><span class="o">:</span><span class="n">m</span> <span class="o">-</span><span class="n">U</span> <span class="nl">lfuse</span><span class="p">:</span><span class="nl">w</span><span class="p">:</span><span class="mh">0xef</span><span class="o">:</span><span class="n">m</span>
</span></code></pre></td></tr></table></div></figure>


<p>If you use serial port to write the program , use stk200 command instead of usbasp.</p>

<p><img class="center" src="http://blog.prabeeshk.com/images/040720129881.jpg" width="600" height="350" title="image" alt="images"></p>

<p><img class="center" src="http://blog.prabeeshk.com/images/04072012989.jpg" width="600" height="350" title="image" alt="images"></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[LCD Interfacing Using Msp430]]></title>
    <link href="http://blog.prabeeshk.com/blog/2012/07/04/lcd-interfacing-using-msp430/"/>
    <updated>2012-07-04T02:39:00+05:30</updated>
    <id>http://blog.prabeeshk.com/blog/2012/07/04/lcd-interfacing-using-msp430</id>
    <content type="html"><![CDATA[<p>There is a pot connect to the ADC of msp430 Ao(pin p1.0). The values  of  ADC10MEM displayed using LCD.</p>

<p>The Vcc for pot is taken from msp430 launchpad.so maximum voltage is 3.6v.</p>

<p>The msp430 10 bit ADC operates in the range 0 to 3.6V. If the input voltage is 0V,</p>

<p>the ADC generates a 10 bit value:</p>

<p>0 0 0 0 0 0 0 0 0 0</p>

<p>which is numerically equal to 0.</p>

<p>When the input voltage is 3.6V, the ADC</p>

<p>generates a 10 bit pattern:</p>

<p>1 1 1 1 1 1 1 1 1 1</p>

<p>which is numerically equal to 1023.</p>

<p>This values are stored in ADC10MEM.</p>

<p>The Vcc for LCD is given using another power supply of 5v.Because LCD display needed 5v for its functioning.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
<span class='line-number'>94</span>
<span class='line-number'>95</span>
<span class='line-number'>96</span>
<span class='line-number'>97</span>
<span class='line-number'>98</span>
<span class='line-number'>99</span>
<span class='line-number'>100</span>
<span class='line-number'>101</span>
<span class='line-number'>102</span>
<span class='line-number'>103</span>
<span class='line-number'>104</span>
<span class='line-number'>105</span>
<span class='line-number'>106</span>
<span class='line-number'>107</span>
<span class='line-number'>108</span>
<span class='line-number'>109</span>
<span class='line-number'>110</span>
<span class='line-number'>111</span>
<span class='line-number'>112</span>
<span class='line-number'>113</span>
<span class='line-number'>114</span>
<span class='line-number'>115</span>
<span class='line-number'>116</span>
<span class='line-number'>117</span>
<span class='line-number'>118</span>
<span class='line-number'>119</span>
<span class='line-number'>120</span>
<span class='line-number'>121</span>
<span class='line-number'>122</span>
<span class='line-number'>123</span>
<span class='line-number'>124</span>
<span class='line-number'>125</span>
<span class='line-number'>126</span>
<span class='line-number'>127</span>
<span class='line-number'>128</span>
<span class='line-number'>129</span>
<span class='line-number'>130</span>
<span class='line-number'>131</span>
<span class='line-number'>132</span>
<span class='line-number'>133</span>
<span class='line-number'>134</span>
<span class='line-number'>135</span>
<span class='line-number'>136</span>
<span class='line-number'>137</span>
<span class='line-number'>138</span>
<span class='line-number'>139</span>
<span class='line-number'>140</span>
<span class='line-number'>141</span>
<span class='line-number'>142</span>
<span class='line-number'>143</span>
<span class='line-number'>144</span>
<span class='line-number'>145</span>
<span class='line-number'>146</span>
<span class='line-number'>147</span>
<span class='line-number'>148</span>
<span class='line-number'>149</span>
<span class='line-number'>150</span>
<span class='line-number'>151</span>
<span class='line-number'>152</span>
<span class='line-number'>153</span>
<span class='line-number'>154</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="cp">#include &lt;msp430.h&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="cp">#define LCM_DIR P1DIR</span>
</span><span class='line'><span class="cp">#define LCM_OUT P1OUT</span>
</span><span class='line'>
</span><span class='line'><span class="cp">#define LCM_PIN_RS BIT2 </span><span class="c1">// P1.2</span>
</span><span class='line'><span class="cp">#define LCM_PIN_EN BIT1 </span><span class="c1">// P1.1</span>
</span><span class='line'><span class="cp">#define LCM_PIN_D7 BIT7 </span><span class="c1">// P1.7</span>
</span><span class='line'><span class="cp">#define LCM_PIN_D6 BIT6 </span><span class="c1">// P1.6</span>
</span><span class='line'><span class="cp">#define LCM_PIN_D5 BIT5 </span><span class="c1">// P1.5</span>
</span><span class='line'><span class="cp">#define LCM_PIN_D4 BIT4 </span><span class="c1">// P1.4</span>
</span><span class='line'><span class="cp">#define LCM_PIN_MASK ((LCM_PIN_RS | LCM_PIN_EN | LCM_PIN_D7 | LCM_PIN_D6 | LCM_PIN_D5 | LCM_PIN_D4))</span>
</span><span class='line'>
</span><span class='line'><span class="cp">#define FALSE 0</span>
</span><span class='line'><span class="cp">#define TRUE 1</span>
</span><span class='line'>
</span><span class='line'><span class="c1">//msp430 adc</span>
</span><span class='line'>
</span><span class='line'><span class="kt">void</span> <span class="nf">adc_init</span><span class="p">()</span>
</span><span class='line'>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="n">ADC10CTL0</span> <span class="o">=</span> <span class="n">ADC10ON</span> <span class="o">|</span> <span class="n">ADC10SHT_2</span> <span class="o">|</span> <span class="n">SREF_0</span><span class="p">;</span>
</span><span class='line'>  <span class="n">ADC10CTL1</span> <span class="o">=</span> <span class="n">INCH_0</span> <span class="o">|</span> <span class="n">SHS_0</span> <span class="o">|</span> <span class="n">ADC10DIV_0</span> <span class="o">|</span> <span class="n">ADC10SSEL_0</span> <span class="o">|</span> <span class="n">CONSEQ_0</span> <span class="p">;</span>
</span><span class='line'>  <span class="n">ADC10AE0</span> <span class="o">=</span> <span class="n">BIT0</span><span class="p">;</span>
</span><span class='line'>  <span class="n">ADC10CTL0</span> <span class="o">|=</span> <span class="n">ENC</span> <span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kt">void</span> <span class="nf">start_conversion</span><span class="p">()</span>
</span><span class='line'>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="n">ADC10CTL0</span> <span class="o">|=</span> <span class="n">ADC10SC</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kt">unsigned</span> <span class="kt">int</span> <span class="nf">converting</span><span class="p">()</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="k">return</span> <span class="n">ADC10CTL1</span> <span class="o">&amp;</span> <span class="n">ADC10BUSY</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// MSP430 LCD Code</span>
</span><span class='line'><span class="kt">void</span> <span class="nf">PulseLcm</span><span class="p">()</span>
</span><span class='line'><span class="p">{</span>  
</span><span class='line'>  <span class="c1">// pull EN bit low </span>
</span><span class='line'>  <span class="n">LCM_OUT</span> <span class="o">&amp;=</span> <span class="o">~</span><span class="n">LCM_PIN_EN</span><span class="p">;</span>
</span><span class='line'>  <span class="n">__delay_cycles</span><span class="p">(</span><span class="mi">200</span><span class="p">);</span>
</span><span class='line'>  <span class="c1">// pull EN bit high    </span>
</span><span class='line'>  <span class="n">LCM_OUT</span> <span class="o">|=</span> <span class="n">LCM_PIN_EN</span><span class="p">;</span>
</span><span class='line'>  <span class="n">__delay_cycles</span><span class="p">(</span><span class="mi">200</span><span class="p">);</span>
</span><span class='line'>  <span class="c1">// pull EN bit low again   </span>
</span><span class='line'>  <span class="n">LCM_OUT</span> <span class="o">&amp;=</span> <span class="p">(</span><span class="o">~</span><span class="n">LCM_PIN_EN</span><span class="p">);</span>
</span><span class='line'>  <span class="n">__delay_cycles</span><span class="p">(</span><span class="mi">200</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kt">void</span> <span class="nf">SendByte</span><span class="p">(</span><span class="kt">char</span> <span class="n">ByteToSend</span><span class="p">,</span> <span class="kt">int</span> <span class="n">IsData</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="c1">// clear out all pins  </span>
</span><span class='line'>  <span class="n">LCM_OUT</span> <span class="o">&amp;=</span> <span class="p">(</span><span class="o">~</span><span class="n">LCM_PIN_MASK</span><span class="p">);</span>   
</span><span class='line'>  <span class="n">LCM_OUT</span> <span class="o">|=</span> <span class="p">(</span><span class="n">ByteToSend</span> <span class="o">&amp;</span> <span class="mh">0xF0</span><span class="p">);</span>   
</span><span class='line'>
</span><span class='line'>  <span class="k">if</span> <span class="p">(</span><span class="n">IsData</span> <span class="o">==</span> <span class="n">TRUE</span><span class="p">)</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>      <span class="n">LCM_OUT</span> <span class="o">|=</span> <span class="n">LCM_PIN_RS</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>  <span class="k">else</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>      <span class="n">LCM_OUT</span> <span class="o">&amp;=</span> <span class="o">~</span><span class="n">LCM_PIN_RS</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="n">PulseLcm</span><span class="p">();</span>
</span><span class='line'>  <span class="n">LCM_OUT</span> <span class="o">&amp;=</span> <span class="p">(</span><span class="o">~</span><span class="n">LCM_PIN_MASK</span><span class="p">);</span>
</span><span class='line'>  <span class="n">LCM_OUT</span> <span class="o">|=</span> <span class="p">((</span><span class="n">ByteToSend</span> <span class="o">&amp;</span> <span class="mh">0x0F</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="mi">4</span><span class="p">);</span>    
</span><span class='line'>
</span><span class='line'>  <span class="k">if</span> <span class="p">(</span><span class="n">IsData</span> <span class="o">==</span> <span class="n">TRUE</span><span class="p">)</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>      <span class="n">LCM_OUT</span> <span class="o">|=</span> <span class="n">LCM_PIN_RS</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>  <span class="k">else</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>      <span class="n">LCM_OUT</span> <span class="o">&amp;=</span> <span class="o">~</span><span class="n">LCM_PIN_RS</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span>    
</span><span class='line'>
</span><span class='line'>  <span class="n">PulseLcm</span><span class="p">();</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kt">void</span> <span class="nf">LcmSetCursorPosition</span><span class="p">(</span><span class="kt">char</span> <span class="n">Row</span><span class="p">,</span> <span class="kt">char</span> <span class="n">Col</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="kt">char</span> <span class="n">address</span><span class="p">;</span>
</span><span class='line'>  <span class="c1">// construct address from (Row, Col) pair  </span>
</span><span class='line'>
</span><span class='line'>  <span class="k">if</span> <span class="p">(</span><span class="n">Row</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>      <span class="n">address</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>  <span class="k">else</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>      <span class="n">address</span> <span class="o">=</span> <span class="mh">0x40</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="n">address</span> <span class="o">|=</span> <span class="n">Col</span><span class="p">;</span>
</span><span class='line'>  <span class="n">SendByte</span><span class="p">(</span><span class="mh">0x80</span> <span class="o">|</span> <span class="n">address</span><span class="p">,</span> <span class="n">FALSE</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kt">void</span> <span class="nf">ClearLcmScreen</span><span class="p">()</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="c1">// Clear display, return home</span>
</span><span class='line'>  <span class="n">SendByte</span><span class="p">(</span><span class="mh">0x01</span><span class="p">,</span> <span class="n">FALSE</span><span class="p">);</span>
</span><span class='line'>  <span class="n">SendByte</span><span class="p">(</span><span class="mh">0x02</span><span class="p">,</span> <span class="n">FALSE</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kt">void</span> <span class="nf">InitializeLcm</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="n">LCM_DIR</span> <span class="o">|=</span> <span class="n">LCM_PIN_MASK</span><span class="p">;</span>
</span><span class='line'>  <span class="n">LCM_OUT</span> <span class="o">&amp;=</span> <span class="o">~</span><span class="p">(</span><span class="n">LCM_PIN_MASK</span><span class="p">);</span>   
</span><span class='line'>  <span class="n">__delay_cycles</span><span class="p">(</span><span class="mi">100000</span><span class="p">);</span>    
</span><span class='line'>  <span class="n">LCM_OUT</span> <span class="o">&amp;=</span> <span class="o">~</span><span class="n">LCM_PIN_RS</span><span class="p">;</span>
</span><span class='line'>  <span class="n">LCM_OUT</span> <span class="o">&amp;=</span> <span class="o">~</span><span class="n">LCM_PIN_EN</span><span class="p">;</span>  
</span><span class='line'>  <span class="n">LCM_OUT</span> <span class="o">=</span> <span class="mh">0x20</span><span class="p">;</span>
</span><span class='line'>  <span class="n">PulseLcm</span><span class="p">();</span>   
</span><span class='line'>  <span class="n">SendByte</span><span class="p">(</span><span class="mh">0x28</span><span class="p">,</span> <span class="n">FALSE</span><span class="p">);</span>   
</span><span class='line'>  <span class="n">SendByte</span><span class="p">(</span><span class="mh">0x0E</span><span class="p">,</span> <span class="n">FALSE</span><span class="p">);</span>   
</span><span class='line'>  <span class="n">SendByte</span><span class="p">(</span><span class="mh">0x06</span><span class="p">,</span> <span class="n">FALSE</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kt">void</span> <span class="nf">PrintStr</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">Text</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="kt">char</span> <span class="o">*</span><span class="n">c</span><span class="p">;</span>
</span><span class='line'>  <span class="n">c</span> <span class="o">=</span> <span class="n">Text</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">while</span> <span class="p">((</span><span class="n">c</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="o">*</span><span class="n">c</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">))</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>      <span class="n">SendByte</span><span class="p">(</span><span class="o">*</span><span class="n">c</span><span class="p">,</span> <span class="n">TRUE</span><span class="p">);</span>
</span><span class='line'>      <span class="n">c</span><span class="o">++</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="n">adc_init</span><span class="p">();</span>   
</span><span class='line'>  <span class="kt">int</span> <span class="n">i</span><span class="p">,</span><span class="n">a</span><span class="p">;</span>    
</span><span class='line'>  <span class="kt">char</span> <span class="n">b</span><span class="p">[</span><span class="mi">5</span><span class="p">];</span> 
</span><span class='line'>  <span class="n">WDTCTL</span> <span class="o">=</span> <span class="n">WDTPW</span> <span class="o">+</span> <span class="n">WDTHOLD</span><span class="p">;</span> <span class="c1">// Stop watchdog timer </span>
</span><span class='line'>  <span class="n">InitializeLcm</span><span class="p">();</span>  
</span><span class='line'>
</span><span class='line'>  <span class="k">while</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span class='line'>  <span class="p">{</span>    
</span><span class='line'>
</span><span class='line'>      <span class="n">start_conversion</span><span class="p">();</span>   
</span><span class='line'>      <span class="k">while</span><span class="p">(</span><span class="n">converting</span><span class="p">());</span>    
</span><span class='line'>      <span class="n">a</span> <span class="o">=</span> <span class="n">ADC10MEM</span><span class="p">;</span>   
</span><span class='line'>      <span class="n">itoa</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="mi">10</span><span class="p">);</span><span class="c1">//integer to ASCII   </span>
</span><span class='line'>      <span class="n">ClearLcmScreen</span><span class="p">();</span> 
</span><span class='line'>      <span class="n">PrintStr</span><span class="p">(</span><span class="n">b</span><span class="p">);</span>    
</span><span class='line'>      <span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="mi">5000</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">);</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<div class="embed-video-container"><iframe src="//www.youtube.com/embed/hsM_o5hNUmg" allowfullscreen></iframe></div>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Introduction to AVR Programing]]></title>
    <link href="http://blog.prabeeshk.com/blog/2012/02/21/introduction-to-avr-programing/"/>
    <updated>2012-02-21T02:39:00+05:30</updated>
    <id>http://blog.prabeeshk.com/blog/2012/02/21/introduction-to-avr-programing</id>
    <content type="html"><![CDATA[<p>Atmel AVR 8-bit and 32-bit microcontrollers deliver a unique combination of performance, power efficiency, and design flexibility. Optimized to speed time to market, they are based on the industrys most code-efficient architecture for C and assembly programming. No other microcontrollers deliver more computing performance with better power efficiency. Industry-leading development tools and design support let you get to market faster. Once there, the large AVR family lets you reuse your knowledge when improving your products and expanding to new marketseasily and cost-effectively.</p>

<p>package required in linux</p>

<p>binutils: Programs to manipulate binary and object files that may have been created for Atmels AVR architecture. This package is primarily for AVR developers and cross-compilers.</p>

<p>gcc-avr: The GNU C compiler, a fairly portable optimising compiler that supports multiple languages. This package includes C language support.</p>

<p>avr-libc: Standard library used for developing C programs for Atmel AVR microcontrollers. This package contains static libraries, as well as needed header files.</p>

<p>sample programe to blink  a LED</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="cp">#include&lt;avr/io.h&gt;</span>
</span><span class='line'><span class="cp">#include&lt;util/delay.h&gt;</span>
</span><span class='line'><span class="n">main</span><span class="p">()</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>
</span><span class='line'>        <span class="n">DDRC</span> <span class="o">|=</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PC2</span><span class="p">;</span>  <span class="cm">/* PC2 will now be the output pin */</span>
</span><span class='line'>        <span class="k">while</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span class='line'>        <span class="p">{</span>
</span><span class='line'>                <span class="n">PORTC</span> <span class="o">&amp;=</span> <span class="o">~</span><span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PC2</span><span class="p">);</span><span class="cm">/* PC2 LOW */</span>
</span><span class='line'>               <span class="n">_delay_ms</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
</span><span class='line'>                <span class="n">PORTC</span> <span class="o">|=</span><span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PC2</span><span class="p">);</span> <span class="cm">/* PC2 HIGH */</span>
</span><span class='line'>               <span class="n">_delay_ms</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>save th above program to a file led.c</p>

<p>Then compile the program using avr-gcc and convert the c-code into object code as follows</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="n">avr</span><span class="o">-</span><span class="n">gcc</span> <span class="o">-</span><span class="n">mmcu</span><span class="o">=</span><span class="n">atmega8</span>  <span class="n">led</span><span class="p">.</span><span class="n">c</span> <span class="o">-</span><span class="n">o</span> <span class="n">led</span><span class="p">.</span><span class="n">o</span>
</span></code></pre></td></tr></table></div></figure>


<p>in next step convert the led.o object code to hex-code</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="n">avr</span><span class="o">-</span><span class="n">objcopy</span> <span class="o">-</span><span class="n">j</span> <span class="p">.</span><span class="n">text</span> <span class="o">-</span><span class="n">j</span> <span class="p">.</span><span class="n">data</span> <span class="o">-</span><span class="n">O</span>  <span class="n">ihex</span>  <span class="n">led</span><span class="p">.</span><span class="n">o</span>  <span class="n">led</span><span class="p">.</span><span class="n">hex</span>
</span></code></pre></td></tr></table></div></figure>


<p>in final step using USBASP we can write program  to avr</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="n">avrdude</span> <span class="o">-</span><span class="n">c</span> <span class="n">usbasp</span> <span class="o">-</span><span class="n">p</span> <span class="n">m8</span> <span class="o">-</span><span class="n">U</span> <span class="nl">flash</span><span class="p">:</span><span class="nl">w</span><span class="p">:</span><span class="n">led</span><span class="p">.</span><span class="nl">hex</span><span class="p">:</span><span class="n">a</span>
</span></code></pre></td></tr></table></div></figure>


<p>for more details about USBASP <a href="http://achuwilson.wordpress.com/2011/12/15/usbasp-a-usb-programmer-for-avr-microcontrollers/">visit</a></p>

<h4>Code Explanation</h4>

<p>The GNU C compiler for the Atmel family identifies all functional units within the microcontroller with meaningful names. Thus, writing `PORTC=0xff will result in the compiler generating machine code that writes 0xff to I/O port C, which will set all port C pins to logic high. Because ports are bidirectional, we must decide whether each pin should act as input or output. If the ith bit of a register called DDRC (data direction register C) is 1, then the ith pin of PORTCs ith pin will be an output. Otherwise, it will act as an input pin. (Note that pin and bit numbers start at zero.) To make an LED blink, you have to make a pin high, then low. (Here, we use PORTCs 2nd port. That is, PC2 will be the 25th pin.) There should be a delay between the two. This is what the rest of the code does.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[AM Generation Using Matplotlib Python]]></title>
    <link href="http://blog.prabeeshk.com/blog/2011/09/25/am-plot-matplotlib/"/>
    <updated>2011-09-25T01:39:00+05:30</updated>
    <id>http://blog.prabeeshk.com/blog/2011/09/25/am-plot-matplotlib</id>
    <content type="html"><![CDATA[<p>we can plot AM waves using matplotlib</p>

<p>It is the one of the most strongest tool in linux to plot the waves</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="kn">import</span> <span class="nn">matplotlib.pylab</span> <span class="kn">as</span> <span class="nn">plt</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">num</span>
</span><span class='line'><span class="n">fc</span><span class="o">=</span><span class="mi">50</span><span class="p">;</span>
</span><span class='line'><span class="n">fm</span><span class="o">=</span><span class="mi">5</span><span class="p">;</span>
</span><span class='line'><span class="n">t</span><span class="o">=</span><span class="n">num</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mf">0.001</span><span class="p">);</span>
</span><span class='line'><span class="n">c</span><span class="o">=</span><span class="n">num</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">num</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="n">fc</span><span class="o">*</span><span class="n">t</span><span class="p">);</span>
</span><span class='line'><span class="n">m</span><span class="o">=</span><span class="n">num</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">num</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="n">fm</span><span class="o">*</span><span class="n">t</span><span class="p">);</span>
</span><span class='line'><span class="n">am</span><span class="o">=</span><span class="n">c</span><span class="o">*</span><span class="p">(</span><span class="mi">2</span><span class="o">+</span><span class="n">m</span><span class="p">);</span>
</span><span class='line'><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">am</span><span class="p">,</span><span class="err"></span><span class="n">r</span><span class="err"></span><span class="p">)</span>
</span><span class='line'><span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</span></code></pre></td></tr></table></div></figure>


<p><img class="center" src="http://blog.prabeeshk.com/images/am.png" width="600" height="350" title="image" alt="images"></p>

<p>For more details about matplotlib <a href="http://matplotlib.sourceforge.net/users/artists.html">refer</a></p>
]]></content>
  </entry>
  
</feed>
