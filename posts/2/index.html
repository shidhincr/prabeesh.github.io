
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>This is One of the Solutions</title>
  <meta name="author" content="Prabeesh K">

  
  <meta name="description" content="An Arduino board consists of an 8-bit Atmel AVR microcontroller with complementary components to facilitate programming and incorporation into other &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="msvalidate.01" content="E9C54D49527AFA588120A46982BDE002" />

  
  <link rel="canonical" href="http://blog.prabeeshk.com/posts/2">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="This is One of the Solutions" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-56250765-2']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">This is One of the Solutions</a></h1>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:blog.prabeeshk.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/07/14/running-arduino-codes-in-stand-alone/">Running Arduino Codes in Stand Alone Atmega8</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2012-07-14T02:23:00+05:30'><span class='date'><span class='date-month'>Jul</span> <span class='date-day'>14</span><span class='date-suffix'>th</span>, <span class='date-year'>2012</span></span> <span class='time'>2:23 am</span></time>
        
           | <a href="/blog/2012/07/14/running-arduino-codes-in-stand-alone/#disqus_thread"
             data-disqus-identifier="http://blog.prabeeshk.com/blog/2012/07/14/running-arduino-codes-in-stand-alone/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>An Arduino board consists of an 8-bit Atmel AVR microcontroller with complementary components to facilitate programming and incorporation into other circuits.
If you wish to study the arduino codes ,then one of the major problems is the availability and cost of the Arduino board. If you have an atmega8 microcontroller  then you have to study the Arduino codes by simply changing some options in Arduino IDE.</p>

<p>First download the arduino IDE(I am using Arduino 1.0). Next you have to an avr  programmer(I am using usbasp and usbtiny).
Launch the arduino IDE as root.Then select your programmer from tools and also select your board  in this case select ATmega8.
Take care in fuse bytes because arduino codes are running in 8MHz.Y ou can enable internal 8MHz clock by</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="o">-</span><span class="n">U</span> <span class="nl">lfuse</span><span class="p">:</span><span class="nl">w</span><span class="p">:</span><span class="mh">0xa4</span><span class="o">:</span><span class="n">m</span> <span class="o">-</span><span class="n">U</span> <span class="nl">hfuse</span><span class="p">:</span><span class="nl">w</span><span class="p">:</span><span class="mh">0xcc</span><span class="o">:</span><span class="n">m</span>
</span></code></pre></td></tr></table></div></figure>


<p>Or you can enable the external crystal by setting the fuse byte as</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="o">-</span><span class="n">U</span> <span class="nl">lfuse</span><span class="p">:</span><span class="nl">w</span><span class="p">:</span><span class="mh">0xef</span><span class="o">:</span><span class="n">m</span>
</span></code></pre></td></tr></table></div></figure>


<p>and put a  8MHz crystal.</p>

<p>You can find mapping between atmega8 and arduino here</p>

<p><img class="center" src="/images/arduino.png" width="600" height="350" title="image" alt="images"></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/07/04/simplest-and-low-cost-usb-avr/">Simplest and Low Cost USB AVR Programmer USBtinyISP</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2012-07-04T19:39:00+05:30'><span class='date'><span class='date-month'>Jul</span> <span class='date-day'>4</span><span class='date-suffix'>th</span>, <span class='date-year'>2012</span></span> <span class='time'>7:39 pm</span></time>
        
           | <a href="/blog/2012/07/04/simplest-and-low-cost-usb-avr/#disqus_thread"
             data-disqus-identifier="http://blog.prabeeshk.com/blog/2012/07/04/simplest-and-low-cost-usb-avr/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>This is the low cost AVR programmer using attiny2313. The schematic diagram is given below.</p>

<p><img class="center" src="/images/usbtiny_circuit.png" width="600" height="350" title="image" alt="images"></p>

<p>First setup the circuit as shown. Refer <a href="https://learn.adafruit.com/usbtinyisp">this site</a> for to burn program to this attiny 2313.</p>

<p>One important care taken to make fuse bit</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="n">avrdude</span> <span class="o">-</span><span class="n">c</span> <span class="n">usbasp</span> <span class="o">-</span><span class="n">p</span> <span class="n">t2313</span> <span class="o">-</span><span class="n">U</span> <span class="nl">hfuse</span><span class="p">:</span><span class="nl">w</span><span class="p">:</span><span class="mh">0xdf</span><span class="o">:</span><span class="n">m</span> <span class="o">-</span><span class="n">U</span> <span class="nl">lfuse</span><span class="p">:</span><span class="nl">w</span><span class="p">:</span><span class="mh">0xef</span><span class="o">:</span><span class="n">m</span>
</span></code></pre></td></tr></table></div></figure>


<p>If you use serial port to write the program , use stk200 command instead of usbasp.</p>

<p><img class="center" src="/images/040720129881.jpg" width="600" height="350" title="image" alt="images"></p>

<p><img class="center" src="/images/04072012989.jpg" width="600" height="350" title="image" alt="images"></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/07/04/lcd-interfacing-using-msp430/">LCD Interfacing Using Msp430</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2012-07-04T02:39:00+05:30'><span class='date'><span class='date-month'>Jul</span> <span class='date-day'>4</span><span class='date-suffix'>th</span>, <span class='date-year'>2012</span></span> <span class='time'>2:39 am</span></time>
        
           | <a href="/blog/2012/07/04/lcd-interfacing-using-msp430/#disqus_thread"
             data-disqus-identifier="http://blog.prabeeshk.com/blog/2012/07/04/lcd-interfacing-using-msp430/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>There is a pot connect to the ADC of msp430 Ao(pin p1.0). The values  of  ADC10MEM displayed using LCD.</p>

<p>The Vcc for pot is taken from msp430 launchpad.so maximum voltage is 3.6v.</p>

<p>The msp430 10 bit ADC operates in the range 0 to 3.6V. If the input voltage is 0V,</p>

<p>the ADC generates a 10 bit value:</p>

<p>0 0 0 0 0 0 0 0 0 0</p>

<p>which is numerically equal to 0.</p>

<p>When the input voltage is 3.6V, the ADC</p>

<p>generates a 10 bit pattern:</p>

<p>1 1 1 1 1 1 1 1 1 1</p>

<p>which is numerically equal to 1023.</p>

<p>This values are stored in ADC10MEM.</p>

<p>The Vcc for LCD is given using another power supply of 5v.Because LCD display needed 5v for its functioning.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
<span class='line-number'>94</span>
<span class='line-number'>95</span>
<span class='line-number'>96</span>
<span class='line-number'>97</span>
<span class='line-number'>98</span>
<span class='line-number'>99</span>
<span class='line-number'>100</span>
<span class='line-number'>101</span>
<span class='line-number'>102</span>
<span class='line-number'>103</span>
<span class='line-number'>104</span>
<span class='line-number'>105</span>
<span class='line-number'>106</span>
<span class='line-number'>107</span>
<span class='line-number'>108</span>
<span class='line-number'>109</span>
<span class='line-number'>110</span>
<span class='line-number'>111</span>
<span class='line-number'>112</span>
<span class='line-number'>113</span>
<span class='line-number'>114</span>
<span class='line-number'>115</span>
<span class='line-number'>116</span>
<span class='line-number'>117</span>
<span class='line-number'>118</span>
<span class='line-number'>119</span>
<span class='line-number'>120</span>
<span class='line-number'>121</span>
<span class='line-number'>122</span>
<span class='line-number'>123</span>
<span class='line-number'>124</span>
<span class='line-number'>125</span>
<span class='line-number'>126</span>
<span class='line-number'>127</span>
<span class='line-number'>128</span>
<span class='line-number'>129</span>
<span class='line-number'>130</span>
<span class='line-number'>131</span>
<span class='line-number'>132</span>
<span class='line-number'>133</span>
<span class='line-number'>134</span>
<span class='line-number'>135</span>
<span class='line-number'>136</span>
<span class='line-number'>137</span>
<span class='line-number'>138</span>
<span class='line-number'>139</span>
<span class='line-number'>140</span>
<span class='line-number'>141</span>
<span class='line-number'>142</span>
<span class='line-number'>143</span>
<span class='line-number'>144</span>
<span class='line-number'>145</span>
<span class='line-number'>146</span>
<span class='line-number'>147</span>
<span class='line-number'>148</span>
<span class='line-number'>149</span>
<span class='line-number'>150</span>
<span class='line-number'>151</span>
<span class='line-number'>152</span>
<span class='line-number'>153</span>
<span class='line-number'>154</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="cp">#include &lt;msp430.h&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="cp">#define LCM_DIR P1DIR</span>
</span><span class='line'><span class="cp">#define LCM_OUT P1OUT</span>
</span><span class='line'>
</span><span class='line'><span class="cp">#define LCM_PIN_RS BIT2 </span><span class="c1">// P1.2</span>
</span><span class='line'><span class="cp">#define LCM_PIN_EN BIT1 </span><span class="c1">// P1.1</span>
</span><span class='line'><span class="cp">#define LCM_PIN_D7 BIT7 </span><span class="c1">// P1.7</span>
</span><span class='line'><span class="cp">#define LCM_PIN_D6 BIT6 </span><span class="c1">// P1.6</span>
</span><span class='line'><span class="cp">#define LCM_PIN_D5 BIT5 </span><span class="c1">// P1.5</span>
</span><span class='line'><span class="cp">#define LCM_PIN_D4 BIT4 </span><span class="c1">// P1.4</span>
</span><span class='line'><span class="cp">#define LCM_PIN_MASK ((LCM_PIN_RS | LCM_PIN_EN | LCM_PIN_D7 | LCM_PIN_D6 | LCM_PIN_D5 | LCM_PIN_D4))</span>
</span><span class='line'>
</span><span class='line'><span class="cp">#define FALSE 0</span>
</span><span class='line'><span class="cp">#define TRUE 1</span>
</span><span class='line'>
</span><span class='line'><span class="c1">//msp430 adc</span>
</span><span class='line'>
</span><span class='line'><span class="kt">void</span> <span class="nf">adc_init</span><span class="p">()</span>
</span><span class='line'>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="n">ADC10CTL0</span> <span class="o">=</span> <span class="n">ADC10ON</span> <span class="o">|</span> <span class="n">ADC10SHT_2</span> <span class="o">|</span> <span class="n">SREF_0</span><span class="p">;</span>
</span><span class='line'>  <span class="n">ADC10CTL1</span> <span class="o">=</span> <span class="n">INCH_0</span> <span class="o">|</span> <span class="n">SHS_0</span> <span class="o">|</span> <span class="n">ADC10DIV_0</span> <span class="o">|</span> <span class="n">ADC10SSEL_0</span> <span class="o">|</span> <span class="n">CONSEQ_0</span> <span class="p">;</span>
</span><span class='line'>  <span class="n">ADC10AE0</span> <span class="o">=</span> <span class="n">BIT0</span><span class="p">;</span>
</span><span class='line'>  <span class="n">ADC10CTL0</span> <span class="o">|=</span> <span class="n">ENC</span> <span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kt">void</span> <span class="nf">start_conversion</span><span class="p">()</span>
</span><span class='line'>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="n">ADC10CTL0</span> <span class="o">|=</span> <span class="n">ADC10SC</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kt">unsigned</span> <span class="kt">int</span> <span class="nf">converting</span><span class="p">()</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="k">return</span> <span class="n">ADC10CTL1</span> <span class="o">&amp;</span> <span class="n">ADC10BUSY</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// MSP430 LCD Code</span>
</span><span class='line'><span class="kt">void</span> <span class="nf">PulseLcm</span><span class="p">()</span>
</span><span class='line'><span class="p">{</span>  
</span><span class='line'>  <span class="c1">// pull EN bit low </span>
</span><span class='line'>  <span class="n">LCM_OUT</span> <span class="o">&amp;=</span> <span class="o">~</span><span class="n">LCM_PIN_EN</span><span class="p">;</span>
</span><span class='line'>  <span class="n">__delay_cycles</span><span class="p">(</span><span class="mi">200</span><span class="p">);</span>
</span><span class='line'>  <span class="c1">// pull EN bit high    </span>
</span><span class='line'>  <span class="n">LCM_OUT</span> <span class="o">|=</span> <span class="n">LCM_PIN_EN</span><span class="p">;</span>
</span><span class='line'>  <span class="n">__delay_cycles</span><span class="p">(</span><span class="mi">200</span><span class="p">);</span>
</span><span class='line'>  <span class="c1">// pull EN bit low again   </span>
</span><span class='line'>  <span class="n">LCM_OUT</span> <span class="o">&amp;=</span> <span class="p">(</span><span class="o">~</span><span class="n">LCM_PIN_EN</span><span class="p">);</span>
</span><span class='line'>  <span class="n">__delay_cycles</span><span class="p">(</span><span class="mi">200</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kt">void</span> <span class="nf">SendByte</span><span class="p">(</span><span class="kt">char</span> <span class="n">ByteToSend</span><span class="p">,</span> <span class="kt">int</span> <span class="n">IsData</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="c1">// clear out all pins  </span>
</span><span class='line'>  <span class="n">LCM_OUT</span> <span class="o">&amp;=</span> <span class="p">(</span><span class="o">~</span><span class="n">LCM_PIN_MASK</span><span class="p">);</span>   
</span><span class='line'>  <span class="n">LCM_OUT</span> <span class="o">|=</span> <span class="p">(</span><span class="n">ByteToSend</span> <span class="o">&amp;</span> <span class="mh">0xF0</span><span class="p">);</span>   
</span><span class='line'>
</span><span class='line'>  <span class="k">if</span> <span class="p">(</span><span class="n">IsData</span> <span class="o">==</span> <span class="n">TRUE</span><span class="p">)</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>      <span class="n">LCM_OUT</span> <span class="o">|=</span> <span class="n">LCM_PIN_RS</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>  <span class="k">else</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>      <span class="n">LCM_OUT</span> <span class="o">&amp;=</span> <span class="o">~</span><span class="n">LCM_PIN_RS</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="n">PulseLcm</span><span class="p">();</span>
</span><span class='line'>  <span class="n">LCM_OUT</span> <span class="o">&amp;=</span> <span class="p">(</span><span class="o">~</span><span class="n">LCM_PIN_MASK</span><span class="p">);</span>
</span><span class='line'>  <span class="n">LCM_OUT</span> <span class="o">|=</span> <span class="p">((</span><span class="n">ByteToSend</span> <span class="o">&amp;</span> <span class="mh">0x0F</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="mi">4</span><span class="p">);</span>    
</span><span class='line'>
</span><span class='line'>  <span class="k">if</span> <span class="p">(</span><span class="n">IsData</span> <span class="o">==</span> <span class="n">TRUE</span><span class="p">)</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>      <span class="n">LCM_OUT</span> <span class="o">|=</span> <span class="n">LCM_PIN_RS</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>  <span class="k">else</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>      <span class="n">LCM_OUT</span> <span class="o">&amp;=</span> <span class="o">~</span><span class="n">LCM_PIN_RS</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span>    
</span><span class='line'>
</span><span class='line'>  <span class="n">PulseLcm</span><span class="p">();</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kt">void</span> <span class="nf">LcmSetCursorPosition</span><span class="p">(</span><span class="kt">char</span> <span class="n">Row</span><span class="p">,</span> <span class="kt">char</span> <span class="n">Col</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="kt">char</span> <span class="n">address</span><span class="p">;</span>
</span><span class='line'>  <span class="c1">// construct address from (Row, Col) pair  </span>
</span><span class='line'>
</span><span class='line'>  <span class="k">if</span> <span class="p">(</span><span class="n">Row</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>      <span class="n">address</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>  <span class="k">else</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>      <span class="n">address</span> <span class="o">=</span> <span class="mh">0x40</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="n">address</span> <span class="o">|=</span> <span class="n">Col</span><span class="p">;</span>
</span><span class='line'>  <span class="n">SendByte</span><span class="p">(</span><span class="mh">0x80</span> <span class="o">|</span> <span class="n">address</span><span class="p">,</span> <span class="n">FALSE</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kt">void</span> <span class="nf">ClearLcmScreen</span><span class="p">()</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="c1">// Clear display, return home</span>
</span><span class='line'>  <span class="n">SendByte</span><span class="p">(</span><span class="mh">0x01</span><span class="p">,</span> <span class="n">FALSE</span><span class="p">);</span>
</span><span class='line'>  <span class="n">SendByte</span><span class="p">(</span><span class="mh">0x02</span><span class="p">,</span> <span class="n">FALSE</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kt">void</span> <span class="nf">InitializeLcm</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="n">LCM_DIR</span> <span class="o">|=</span> <span class="n">LCM_PIN_MASK</span><span class="p">;</span>
</span><span class='line'>  <span class="n">LCM_OUT</span> <span class="o">&amp;=</span> <span class="o">~</span><span class="p">(</span><span class="n">LCM_PIN_MASK</span><span class="p">);</span>   
</span><span class='line'>  <span class="n">__delay_cycles</span><span class="p">(</span><span class="mi">100000</span><span class="p">);</span>    
</span><span class='line'>  <span class="n">LCM_OUT</span> <span class="o">&amp;=</span> <span class="o">~</span><span class="n">LCM_PIN_RS</span><span class="p">;</span>
</span><span class='line'>  <span class="n">LCM_OUT</span> <span class="o">&amp;=</span> <span class="o">~</span><span class="n">LCM_PIN_EN</span><span class="p">;</span>  
</span><span class='line'>  <span class="n">LCM_OUT</span> <span class="o">=</span> <span class="mh">0x20</span><span class="p">;</span>
</span><span class='line'>  <span class="n">PulseLcm</span><span class="p">();</span>   
</span><span class='line'>  <span class="n">SendByte</span><span class="p">(</span><span class="mh">0x28</span><span class="p">,</span> <span class="n">FALSE</span><span class="p">);</span>   
</span><span class='line'>  <span class="n">SendByte</span><span class="p">(</span><span class="mh">0x0E</span><span class="p">,</span> <span class="n">FALSE</span><span class="p">);</span>   
</span><span class='line'>  <span class="n">SendByte</span><span class="p">(</span><span class="mh">0x06</span><span class="p">,</span> <span class="n">FALSE</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kt">void</span> <span class="nf">PrintStr</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">Text</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="kt">char</span> <span class="o">*</span><span class="n">c</span><span class="p">;</span>
</span><span class='line'>  <span class="n">c</span> <span class="o">=</span> <span class="n">Text</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">while</span> <span class="p">((</span><span class="n">c</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="o">*</span><span class="n">c</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">))</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>      <span class="n">SendByte</span><span class="p">(</span><span class="o">*</span><span class="n">c</span><span class="p">,</span> <span class="n">TRUE</span><span class="p">);</span>
</span><span class='line'>      <span class="n">c</span><span class="o">++</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="n">adc_init</span><span class="p">();</span>   
</span><span class='line'>  <span class="kt">int</span> <span class="n">i</span><span class="p">,</span><span class="n">a</span><span class="p">;</span>    
</span><span class='line'>  <span class="kt">char</span> <span class="n">b</span><span class="p">[</span><span class="mi">5</span><span class="p">];</span> 
</span><span class='line'>  <span class="n">WDTCTL</span> <span class="o">=</span> <span class="n">WDTPW</span> <span class="o">+</span> <span class="n">WDTHOLD</span><span class="p">;</span> <span class="c1">// Stop watchdog timer </span>
</span><span class='line'>  <span class="n">InitializeLcm</span><span class="p">();</span>  
</span><span class='line'>
</span><span class='line'>  <span class="k">while</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span class='line'>  <span class="p">{</span>    
</span><span class='line'>
</span><span class='line'>      <span class="n">start_conversion</span><span class="p">();</span>   
</span><span class='line'>      <span class="k">while</span><span class="p">(</span><span class="n">converting</span><span class="p">());</span>    
</span><span class='line'>      <span class="n">a</span> <span class="o">=</span> <span class="n">ADC10MEM</span><span class="p">;</span>   
</span><span class='line'>      <span class="n">itoa</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="mi">10</span><span class="p">);</span><span class="c1">//integer to ASCII   </span>
</span><span class='line'>      <span class="n">ClearLcmScreen</span><span class="p">();</span> 
</span><span class='line'>      <span class="n">PrintStr</span><span class="p">(</span><span class="n">b</span><span class="p">);</span>    
</span><span class='line'>      <span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="mi">5000</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">);</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<div class="embed-video-container"><iframe src="//www.youtube.com/embed/hsM_o5hNUmg" allowfullscreen></iframe></div>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/09/25/am-plot-matplotlib/">AM Generation Using Matplotlib Python</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2011-09-25T01:39:00+05:30'><span class='date'><span class='date-month'>Sep</span> <span class='date-day'>25</span><span class='date-suffix'>th</span>, <span class='date-year'>2011</span></span> <span class='time'>1:39 am</span></time>
        
           | <a href="/blog/2011/09/25/am-plot-matplotlib/#disqus_thread"
             data-disqus-identifier="http://blog.prabeeshk.com/blog/2011/09/25/am-plot-matplotlib/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>we can plot AM waves using matplotlib</p>

<p>It is the one of the most strongest tool in linux to plot the waves</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="kn">import</span> <span class="nn">matplotlib.pylab</span> <span class="kn">as</span> <span class="nn">plt</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">num</span>
</span><span class='line'><span class="n">fc</span><span class="o">=</span><span class="mi">50</span><span class="p">;</span>
</span><span class='line'><span class="n">fm</span><span class="o">=</span><span class="mi">5</span><span class="p">;</span>
</span><span class='line'><span class="n">t</span><span class="o">=</span><span class="n">num</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mf">0.001</span><span class="p">);</span>
</span><span class='line'><span class="n">c</span><span class="o">=</span><span class="n">num</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">num</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="n">fc</span><span class="o">*</span><span class="n">t</span><span class="p">);</span>
</span><span class='line'><span class="n">m</span><span class="o">=</span><span class="n">num</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">num</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="n">fm</span><span class="o">*</span><span class="n">t</span><span class="p">);</span>
</span><span class='line'><span class="n">am</span><span class="o">=</span><span class="n">c</span><span class="o">*</span><span class="p">(</span><span class="mi">2</span><span class="o">+</span><span class="n">m</span><span class="p">);</span>
</span><span class='line'><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">am</span><span class="p">,</span><span class="err">’</span><span class="n">r</span><span class="err">’</span><span class="p">)</span>
</span><span class='line'><span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</span></code></pre></td></tr></table></div></figure>


<p><img class="center" src="/images/am.png" width="600" height="350" title="image" alt="images"></p>

<p>For more details about matplotlib <a href="http://matplotlib.sourceforge.net/users/artists.html">refer</a></p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/index.html">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  <div align="center">
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <!-- index-top -->
    <ins class="adsbygoogle"
      style="display:inline-block;width:250px;height:250px"
      data-ad-client="ca-pub-1368619820510426"
      data-ad-slot="1578290392"></ins>
    <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
  </div>
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/10/31/install-apache-spark-on-ubuntu-14-dot-04/">Install Apache Spark on Ubuntu-14.04</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/04/08/creating-uber-jar-for-spark-project-using-sbt-assembly/">Creating Assembled JAR for Standalone Spark Application</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/04/01/a-standalone-spark-application-in-scala/">A Standalone Spark Application in Scala</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/11/26/installing-apache-spark-on-ubuntu-1204/">Installing Apache Spark on Ubuntu-12.04</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/10/07/running-mesos-0130-on-ubuntu-1204/">Running Mesos-0.13.0 on Ubuntu-12.04</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/prabeesh">@prabeesh</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'prabeesh',
            count: 5,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>



<section class="googleplus">
  <h1>
    <a href="https://plus.google.com/+prabeeshk?rel=author">
      <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
      Google+
    </a>
  </h1>
</section>



  
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- index-side -->
  <ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-1368619820510426"
     data-ad-slot="7904025599"
     data-ad-format="auto"></ins>
  <script>
  (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2015 - Prabeesh K -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'prabeeshk';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>





  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
